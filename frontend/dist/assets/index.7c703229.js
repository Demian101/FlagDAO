import{l as Bc,q as vs,t as vt,k as Nr,c as A,v as ms,w as H0}from"./index.815b74d5.js";import{e as z0,f as m,g as q0}from"./hooks.module.41aa988b.js";function G0(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Fc={},Xn={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.walletLogo=void 0;const J0=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ws.walletLogo=J0;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.ScopedLocalStorage=void 0;class Q0{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}_s.ScopedLocalStorage=Q0;var sn={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const Z0=Bc.exports;function bl(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Y0(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class K0 extends Z0.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")bl(s,this,r);else{const o=s.length,a=Y0(s);for(let c=0;c<o;c+=1)bl(a[c],this,r)}return!0}}Lr.default=K0;var Ss={},rr={},kh=ei;ei.default=ei;ei.stable=Ph;ei.stableStringify=Ph;var rs="[...]",Nh="[Circular]",xr=[],mr=[];function Lh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ei(t,e,r,n){typeof n>"u"&&(n=Lh()),bc(t,"",0,[],void 0,0,n);var i;try{mr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,$h(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;xr.length!==0;){var s=xr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Qr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),xr.push([n,r,e,i])):mr.push([e,r,t]):(n[r]=t,xr.push([n,r,e]))}function bc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Qr(Nh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Qr(rs,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Qr(rs,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)bc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];bc(t[u],u,a,n,t,s,o)}}n.pop()}}function X0(t,e){return t<e?-1:t>e?1:0}function Ph(t,e,r,n){typeof n>"u"&&(n=Lh());var i=gc(t,"",0,[],void 0,0,n)||t,s;try{mr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,$h(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;xr.length!==0;){var o=xr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function gc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Qr(Nh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Qr(rs,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Qr(rs,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)gc(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(X0);for(a=0;a<u.length;a++){var l=u[a];gc(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")xr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function $h(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(mr.length>0)for(var n=0;n<mr.length;n++){var i=mr[n];if(i[1]===e&&i[0]===r){r=i[2],mr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(rr,"__esModule",{value:!0});rr.EthereumProviderError=rr.EthereumRpcError=void 0;const eb=kh;class jh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return eb.default(this.serialize(),nb,2)}}rr.EthereumRpcError=jh;class tb extends jh{constructor(e,r,n){if(!rb(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}rr.EthereumProviderError=tb;function rb(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function nb(t,e){if(e!=="[Circular]")return e}var Wc={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.errorValues=nr.errorCodes=void 0;nr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};nr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=nr,r=rr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const y=f.toString();if(h(e.errorValues,y))return e.errorValues[y].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||u(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:y=!1}={}){var E,R;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const v={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const S=f;v.code=S.code,S.message&&typeof S.message=="string"?(v.message=S.message,h(S,"data")&&(v.data=S.data)):(v.message=o(v.code),v.data={originalError:l(f)})}else{v.code=d.code;const S=(E=f)===null||E===void 0?void 0:E.message;v.message=S&&typeof S=="string"?S:d.message,v.data={originalError:l(f)}}const _=(R=f)===null||R===void 0?void 0:R.stack;return y&&f&&_&&typeof _=="string"&&(v.stack=_),v}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(Wc);var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.ethErrors=void 0;const Uc=rr,Dh=Wc,Oe=nr;Es.ethErrors={rpc:{parse:t=>Xe(Oe.errorCodes.rpc.parse,t),invalidRequest:t=>Xe(Oe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Xe(Oe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Xe(Oe.errorCodes.rpc.methodNotFound,t),internal:t=>Xe(Oe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Xe(e,t)},invalidInput:t=>Xe(Oe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Xe(Oe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Xe(Oe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Xe(Oe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Xe(Oe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Xe(Oe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Pn(Oe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Pn(Oe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Pn(Oe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Pn(Oe.errorCodes.provider.disconnected,t),chainDisconnected:t=>Pn(Oe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Uc.EthereumProviderError(e,r,n)}}};function Xe(t,e){const[r,n]=Bh(e);return new Uc.EthereumRpcError(t,r||Dh.getMessageFromCode(t),n)}function Pn(t,e){const[r,n]=Bh(e);return new Uc.EthereumProviderError(t,r||Dh.getMessageFromCode(t),n)}function Bh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=rr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Wc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Es;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=nr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Ss);var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.EVENTS=void 0;Sn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var En={},Fh={exports:{}},Nt={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=vs,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Nt,Nt.exports);var Wh=Nt.exports.Buffer;function Cs(t,e){this._block=Wh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Cs.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Wh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Cs.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Cs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Cn=Cs,ib=vt.exports,Uh=Cn,sb=Nt.exports.Buffer,ob=[1518500249,1859775393,-1894007588,-899497514],ab=new Array(80);function ci(){this.init(),this._w=ab,Uh.call(this,64,56)}ib(ci,Uh);ci.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function cb(t){return t<<5|t>>>27}function ub(t){return t<<30|t>>>2}function lb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ci.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),l=cb(r)+lb(u,n,i,s)+o+e[c]+ob[u]|0;o=s,s=i,i=ub(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ci.prototype._hash=function(){var t=sb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var fb=ci,hb=vt.exports,Vh=Cn,db=Nt.exports.Buffer,pb=[1518500249,1859775393,-1894007588,-899497514],bb=new Array(80);function ui(){this.init(),this._w=bb,Vh.call(this,64,56)}hb(ui,Vh);ui.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function gb(t){return t<<1|t>>>31}function yb(t){return t<<5|t>>>27}function vb(t){return t<<30|t>>>2}function mb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ui.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=gb(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),l=yb(r)+mb(u,n,i,s)+o+e[c]+pb[u]|0;o=s,s=i,i=vb(n),n=r,r=l}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ui.prototype._hash=function(){var t=db.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var wb=ui,_b=vt.exports,Hh=Cn,Sb=Nt.exports.Buffer,Eb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Cb=new Array(64);function li(){this.init(),this._w=Cb,Hh.call(this,64,56)}_b(li,Hh);li.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Rb(t,e,r){return r^t&(e^r)}function xb(t,e,r){return t&e|r&(t|e)}function Ib(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Ab(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Mb(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Tb(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}li.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=Tb(e[l-2])+e[l-7]+Mb(e[l-15])+e[l-16]|0;for(var h=0;h<64;++h){var f=u+Ab(o)+Rb(o,a,c)+Eb[h]+e[h]|0,d=Ib(r)+xb(r,n,i)|0;u=c,c=a,a=o,o=s+f|0,s=i,i=n,n=r,r=f+d|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};li.prototype._hash=function(){var t=Sb.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var zh=li,Ob=vt.exports,kb=zh,Nb=Cn,Lb=Nt.exports.Buffer,Pb=new Array(64);function Rs(){this.init(),this._w=Pb,Nb.call(this,64,56)}Ob(Rs,kb);Rs.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Rs.prototype._hash=function(){var t=Lb.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var $b=Rs,jb=vt.exports,qh=Cn,Db=Nt.exports.Buffer,gl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Bb=new Array(160);function fi(){this.init(),this._w=Bb,qh.call(this,128,112)}jb(fi,qh);fi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function yl(t,e,r){return r^t&(e^r)}function vl(t,e,r){return t&e|r&(t|e)}function ml(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function wl(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Fb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Wb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Ub(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Vb(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Se(t,e){return t>>>0<e>>>0?1:0}fi.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,l=this._al|0,h=this._bl|0,f=this._cl|0,d=this._dl|0,y=this._el|0,E=this._fl|0,R=this._gl|0,v=this._hl|0,_=0;_<32;_+=2)e[_]=t.readInt32BE(_*4),e[_+1]=t.readInt32BE(_*4+4);for(;_<160;_+=2){var S=e[_-30],M=e[_-15*2+1],I=Fb(S,M),L=Wb(M,S);S=e[_-2*2],M=e[_-2*2+1];var z=Ub(S,M),te=Vb(M,S),D=e[_-7*2],F=e[_-7*2+1],re=e[_-16*2],B=e[_-16*2+1],J=L+F|0,N=I+D+Se(J,L)|0;J=J+te|0,N=N+z+Se(J,te)|0,J=J+B|0,N=N+re+Se(J,B)|0,e[_]=N,e[_+1]=J}for(var oe=0;oe<160;oe+=2){N=e[oe],J=e[oe+1];var ye=vl(r,n,i),p=vl(l,h,f),b=ml(r,l),g=ml(l,r),w=wl(o,y),x=wl(y,o),C=gl[oe],P=gl[oe+1],Q=yl(o,a,c),_e=yl(y,E,R),T=v+x|0,Z=u+w+Se(T,v)|0;T=T+_e|0,Z=Z+Q+Se(T,_e)|0,T=T+P|0,Z=Z+C+Se(T,P)|0,T=T+J|0,Z=Z+N+Se(T,J)|0;var fe=g+p|0,ne=b+ye+Se(fe,g)|0;u=c,v=R,c=a,R=E,a=o,E=y,y=d+T|0,o=s+Z+Se(y,d)|0,s=i,d=f,i=n,f=h,n=r,h=l,l=T+fe|0,r=Z+ne+Se(l,T)|0}this._al=this._al+l|0,this._bl=this._bl+h|0,this._cl=this._cl+f|0,this._dl=this._dl+d|0,this._el=this._el+y|0,this._fl=this._fl+E|0,this._gl=this._gl+R|0,this._hl=this._hl+v|0,this._ah=this._ah+r+Se(this._al,l)|0,this._bh=this._bh+n+Se(this._bl,h)|0,this._ch=this._ch+i+Se(this._cl,f)|0,this._dh=this._dh+s+Se(this._dl,d)|0,this._eh=this._eh+o+Se(this._el,y)|0,this._fh=this._fh+a+Se(this._fl,E)|0,this._gh=this._gh+c+Se(this._gl,R)|0,this._hh=this._hh+u+Se(this._hl,v)|0};fi.prototype._hash=function(){var t=Db.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Gh=fi,Hb=vt.exports,zb=Gh,qb=Cn,Gb=Nt.exports.Buffer,Jb=new Array(160);function xs(){this.init(),this._w=Jb,qb.call(this,128,112)}Hb(xs,zb);xs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};xs.prototype._hash=function(){var t=Gb.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Qb=xs,Pr=Fh.exports=function(e){e=e.toLowerCase();var r=Pr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Pr.sha=fb;Pr.sha1=wb;Pr.sha224=$b;Pr.sha256=zh;Pr.sha384=Qb;Pr.sha512=Gh;var O={},Zb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},_l=typeof Symbol<"u"&&Symbol,Yb=Zb,Kb=function(){return typeof _l!="function"||typeof Symbol!="function"||typeof _l("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Yb()},Sl={foo:{}},Xb=Object,eg=function(){return{__proto__:Sl}.foo===Sl.foo&&!({__proto__:null}instanceof Xb)},tg="Function.prototype.bind called on incompatible ",xa=Array.prototype.slice,rg=Object.prototype.toString,ng="[object Function]",ig=function(e){var r=this;if(typeof r!="function"||rg.call(r)!==ng)throw new TypeError(tg+r);for(var n=xa.call(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,n.concat(xa.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(xa.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},sg=ig,Vc=Function.prototype.bind||sg,og=Vc,ag=og.call(Function.call,Object.prototype.hasOwnProperty),q,on=SyntaxError,Jh=Function,Zr=TypeError,Ia=function(t){try{return Jh('"use strict"; return ('+t+").constructor;")()}catch{}},Cr=Object.getOwnPropertyDescriptor;if(Cr)try{Cr({},"")}catch{Cr=null}var Aa=function(){throw new Zr},cg=Cr?function(){try{return arguments.callee,Aa}catch{try{return Cr(arguments,"callee").get}catch{return Aa}}}():Aa,Fr=Kb(),ug=eg(),xe=Object.getPrototypeOf||(ug?function(t){return t.__proto__}:null),zr={},lg=typeof Uint8Array>"u"||!xe?q:xe(Uint8Array),Rr={"%AggregateError%":typeof AggregateError>"u"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?q:ArrayBuffer,"%ArrayIteratorPrototype%":Fr&&xe?xe([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":zr,"%AsyncGenerator%":zr,"%AsyncGeneratorFunction%":zr,"%AsyncIteratorPrototype%":zr,"%Atomics%":typeof Atomics>"u"?q:Atomics,"%BigInt%":typeof BigInt>"u"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?q:FinalizationRegistry,"%Function%":Jh,"%GeneratorFunction%":zr,"%Int8Array%":typeof Int8Array>"u"?q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fr&&xe?xe(xe([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map>"u"?q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fr||!xe?q:xe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?q:Promise,"%Proxy%":typeof Proxy>"u"?q:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fr||!xe?q:xe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fr&&xe?xe(""[Symbol.iterator]()):q,"%Symbol%":Fr?Symbol:q,"%SyntaxError%":on,"%ThrowTypeError%":cg,"%TypedArray%":lg,"%TypeError%":Zr,"%Uint8Array%":typeof Uint8Array>"u"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?q:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?q:WeakSet};if(xe)try{null.error}catch(t){var fg=xe(xe(t));Rr["%Error.prototype%"]=fg}var hg=function t(e){var r;if(e==="%AsyncFunction%")r=Ia("async function () {}");else if(e==="%GeneratorFunction%")r=Ia("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ia("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&xe&&(r=xe(i.prototype))}return Rr[e]=r,r},El={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hi=Vc,ns=ag,dg=hi.call(Function.call,Array.prototype.concat),pg=hi.call(Function.apply,Array.prototype.splice),Cl=hi.call(Function.call,String.prototype.replace),is=hi.call(Function.call,String.prototype.slice),bg=hi.call(Function.call,RegExp.prototype.exec),gg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,yg=/\\(\\)?/g,vg=function(e){var r=is(e,0,1),n=is(e,-1);if(r==="%"&&n!=="%")throw new on("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new on("invalid intrinsic syntax, expected opening `%`");var i=[];return Cl(e,gg,function(s,o,a,c){i[i.length]=a?Cl(c,yg,"$1"):o||s}),i},mg=function(e,r){var n=e,i;if(ns(El,n)&&(i=El[n],n="%"+i[0]+"%"),ns(Rr,n)){var s=Rr[n];if(s===zr&&(s=hg(n)),typeof s>"u"&&!r)throw new Zr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new on("intrinsic "+e+" does not exist!")},Hc=function(e,r){if(typeof e!="string"||e.length===0)throw new Zr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Zr('"allowMissing" argument must be a boolean');if(bg(/^%?[^%]*%?$/,e)===null)throw new on("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=vg(e),i=n.length>0?n[0]:"",s=mg("%"+i+"%",r),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],pg(n,dg([0,1],u)));for(var l=1,h=!0;l<n.length;l+=1){var f=n[l],d=is(f,0,1),y=is(f,-1);if((d==='"'||d==="'"||d==="`"||y==='"'||y==="'"||y==="`")&&d!==y)throw new on("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",ns(Rr,o))a=Rr[o];else if(a!=null){if(!(f in a)){if(!r)throw new Zr("base intrinsic for "+e+" exists, but the property is not available.");return}if(Cr&&l+1>=n.length){var E=Cr(a,f);h=!!E,h&&"get"in E&&!("originalValue"in E.get)?a=E.get:a=a[f]}else h=ns(a,f),a=a[f];h&&!c&&(Rr[o]=a)}}return a},Qh={exports:{}};(function(t){var e=Vc,r=Hc,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var f=s(e,i,arguments);if(o&&a){var d=o(f,"length");d.configurable&&a(f,"length",{value:1+c(0,h.length-(arguments.length-1))})}return f};var u=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(Qh);var Zh=Hc,Yh=Qh.exports,wg=Yh(Zh("String.prototype.indexOf")),_g=function(e,r){var n=Zh(e,!!r);return typeof n=="function"&&wg(e,".prototype.")>-1?Yh(n):n},Sg={},Eg=Object.freeze(Object.defineProperty({__proto__:null,default:Sg},Symbol.toStringTag,{value:"Module"})),zc=Nr(Eg),qc=typeof Map=="function"&&Map.prototype,Ma=Object.getOwnPropertyDescriptor&&qc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ss=qc&&Ma&&typeof Ma.get=="function"?Ma.get:null,Rl=qc&&Map.prototype.forEach,Gc=typeof Set=="function"&&Set.prototype,Ta=Object.getOwnPropertyDescriptor&&Gc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,os=Gc&&Ta&&typeof Ta.get=="function"?Ta.get:null,xl=Gc&&Set.prototype.forEach,Cg=typeof WeakMap=="function"&&WeakMap.prototype,Hn=Cg?WeakMap.prototype.has:null,Rg=typeof WeakSet=="function"&&WeakSet.prototype,zn=Rg?WeakSet.prototype.has:null,xg=typeof WeakRef=="function"&&WeakRef.prototype,Il=xg?WeakRef.prototype.deref:null,Ig=Boolean.prototype.valueOf,Ag=Object.prototype.toString,Mg=Function.prototype.toString,Tg=String.prototype.match,Jc=String.prototype.slice,Xt=String.prototype.replace,Og=String.prototype.toUpperCase,Al=String.prototype.toLowerCase,Kh=RegExp.prototype.test,Ml=Array.prototype.concat,It=Array.prototype.join,kg=Array.prototype.slice,Tl=Math.floor,yc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Oa=Object.getOwnPropertySymbols,vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,an=typeof Symbol=="function"&&typeof Symbol.iterator=="object",$e=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===an?"object":"symbol")?Symbol.toStringTag:null,Xh=Object.prototype.propertyIsEnumerable,Ol=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function kl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Kh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Tl(-t):Tl(t);if(n!==t){var i=String(n),s=Jc.call(e,i.length+1);return Xt.call(i,r,"$&_")+"."+Xt.call(Xt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Xt.call(e,r,"$&_")}var mc=zc,Nl=mc.custom,Ll=td(Nl)?Nl:null,Ng=function t(e,r,n,i){var s=r||{};if(Jt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Jt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return nd(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?kl(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?kl(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return wc(e)?"[Array]":"[Object]";var h=Yg(s,n);if(typeof i>"u")i=[];else if(rd(i,e)>=0)return"[Circular]";function f(J,N,oe){if(N&&(i=kg.call(i),i.push(N)),oe){var ye={depth:s.depth};return Jt(s,"quoteStyle")&&(ye.quoteStyle=s.quoteStyle),t(J,ye,n+1,i)}return t(J,s,n+1,i)}if(typeof e=="function"&&!Pl(e)){var d=Ug(e),y=Ni(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(y.length>0?" { "+It.call(y,", ")+" }":"")}if(td(e)){var E=an?Xt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):vc.call(e);return typeof e=="object"&&!an?$n(E):E}if(Jg(e)){for(var R="<"+Al.call(String(e.nodeName)),v=e.attributes||[],_=0;_<v.length;_++)R+=" "+v[_].name+"="+ed(Lg(v[_].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+Al.call(String(e.nodeName))+">",R}if(wc(e)){if(e.length===0)return"[]";var S=Ni(e,f);return h&&!Zg(S)?"["+_c(S,h)+"]":"[ "+It.call(S,", ")+" ]"}if($g(e)){var M=Ni(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Xh.call(e,"cause")?"{ ["+String(e)+"] "+It.call(Ml.call("[cause]: "+f(e.cause),M),", ")+" }":M.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+It.call(M,", ")+" }"}if(typeof e=="object"&&o){if(Ll&&typeof e[Ll]=="function"&&mc)return mc(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Vg(e)){var I=[];return Rl&&Rl.call(e,function(J,N){I.push(f(N,e,!0)+" => "+f(J,e))}),$l("Map",ss.call(e),I,h)}if(qg(e)){var L=[];return xl&&xl.call(e,function(J){L.push(f(J,e))}),$l("Set",os.call(e),L,h)}if(Hg(e))return ka("WeakMap");if(Gg(e))return ka("WeakSet");if(zg(e))return ka("WeakRef");if(Dg(e))return $n(f(Number(e)));if(Fg(e))return $n(f(yc.call(e)));if(Bg(e))return $n(Ig.call(e));if(jg(e))return $n(f(String(e)));if(!Pg(e)&&!Pl(e)){var z=Ni(e,f),te=Ol?Ol(e)===Object.prototype:e instanceof Object||e.constructor===Object,D=e instanceof Object?"":"null prototype",F=!te&&$e&&Object(e)===e&&$e in e?Jc.call(ur(e),8,-1):D?"Object":"",re=te||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",B=re+(F||D?"["+It.call(Ml.call([],F||[],D||[]),": ")+"] ":"");return z.length===0?B+"{}":h?B+"{"+_c(z,h)+"}":B+"{ "+It.call(z,", ")+" }"}return String(e)};function ed(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Lg(t){return Xt.call(String(t),/"/g,"&quot;")}function wc(t){return ur(t)==="[object Array]"&&(!$e||!(typeof t=="object"&&$e in t))}function Pg(t){return ur(t)==="[object Date]"&&(!$e||!(typeof t=="object"&&$e in t))}function Pl(t){return ur(t)==="[object RegExp]"&&(!$e||!(typeof t=="object"&&$e in t))}function $g(t){return ur(t)==="[object Error]"&&(!$e||!(typeof t=="object"&&$e in t))}function jg(t){return ur(t)==="[object String]"&&(!$e||!(typeof t=="object"&&$e in t))}function Dg(t){return ur(t)==="[object Number]"&&(!$e||!(typeof t=="object"&&$e in t))}function Bg(t){return ur(t)==="[object Boolean]"&&(!$e||!(typeof t=="object"&&$e in t))}function td(t){if(an)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!vc)return!1;try{return vc.call(t),!0}catch{}return!1}function Fg(t){if(!t||typeof t!="object"||!yc)return!1;try{return yc.call(t),!0}catch{}return!1}var Wg=Object.prototype.hasOwnProperty||function(t){return t in this};function Jt(t,e){return Wg.call(t,e)}function ur(t){return Ag.call(t)}function Ug(t){if(t.name)return t.name;var e=Tg.call(Mg.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function rd(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Vg(t){if(!ss||!t||typeof t!="object")return!1;try{ss.call(t);try{os.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Hg(t){if(!Hn||!t||typeof t!="object")return!1;try{Hn.call(t,Hn);try{zn.call(t,zn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function zg(t){if(!Il||!t||typeof t!="object")return!1;try{return Il.call(t),!0}catch{}return!1}function qg(t){if(!os||!t||typeof t!="object")return!1;try{os.call(t);try{ss.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Gg(t){if(!zn||!t||typeof t!="object")return!1;try{zn.call(t,zn);try{Hn.call(t,Hn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Jg(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function nd(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return nd(Jc.call(t,0,e.maxStringLength),e)+n}var i=Xt.call(Xt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qg);return ed(i,"single",e)}function Qg(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Og.call(e.toString(16))}function $n(t){return"Object("+t+")"}function ka(t){return t+" { ? }"}function $l(t,e,r,n){var i=n?_c(r,n):It.call(r,", ");return t+" ("+e+") {"+i+"}"}function Zg(t){for(var e=0;e<t.length;e++)if(rd(t[e],`
`)>=0)return!1;return!0}function Yg(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=It.call(Array(t.indent+1)," ");else return null;return{base:r,prev:It.call(Array(e+1),r)}}function _c(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+It.call(t,","+r)+`
`+e.prev}function Ni(t,e){var r=wc(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Jt(t,i)?e(t[i],t):""}var s=typeof Oa=="function"?Oa(t):[],o;if(an){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!Jt(t,c)||r&&String(Number(c))===c&&c<t.length||an&&o["$"+c]instanceof Symbol||(Kh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof Oa=="function")for(var u=0;u<s.length;u++)Xh.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Qc=Hc,Rn=_g,Kg=Ng,Xg=Qc("%TypeError%"),Li=Qc("%WeakMap%",!0),Pi=Qc("%Map%",!0),ey=Rn("WeakMap.prototype.get",!0),ty=Rn("WeakMap.prototype.set",!0),ry=Rn("WeakMap.prototype.has",!0),ny=Rn("Map.prototype.get",!0),iy=Rn("Map.prototype.set",!0),sy=Rn("Map.prototype.has",!0),Zc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},oy=function(t,e){var r=Zc(t,e);return r&&r.value},ay=function(t,e,r){var n=Zc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},cy=function(t,e){return!!Zc(t,e)},uy=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Xg("Side channel does not contain "+Kg(s))},get:function(s){if(Li&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ey(e,s)}else if(Pi){if(r)return ny(r,s)}else if(n)return oy(n,s)},has:function(s){if(Li&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ry(e,s)}else if(Pi){if(r)return sy(r,s)}else if(n)return cy(n,s);return!1},set:function(s,o){Li&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Li),ty(e,s,o)):Pi?(r||(r=new Pi),iy(r,s,o)):(n||(n={key:{},next:null}),ay(n,s,o))}};return i},ly=String.prototype.replace,fy=/%20/g,Na={RFC1738:"RFC1738",RFC3986:"RFC3986"},Yc={default:Na.RFC3986,formatters:{RFC1738:function(t){return ly.call(t,fy,"+")},RFC3986:function(t){return String(t)}},RFC1738:Na.RFC1738,RFC3986:Na.RFC3986},hy=Yc,La=Object.prototype.hasOwnProperty,br=Array.isArray,St=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),dy=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(br(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},id=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},py=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(br(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!La.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return br(e)&&!br(r)&&(i=id(e,n)),br(e)&&br(r)?(r.forEach(function(s,o){if(La.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return La.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},by=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},gy=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},yy=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===hy.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+St[u];continue}if(u<2048){a=a+(St[192|u>>6]+St[128|u&63]);continue}if(u<55296||u>=57344){a=a+(St[224|u>>12]+St[128|u>>6&63]+St[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=St[240|u>>18]+St[128|u>>12&63]+St[128|u>>6&63]+St[128|u&63]}return a},vy=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return dy(r),e},my=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},wy=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},_y=function(e,r){return[].concat(e,r)},Sy=function(e,r){if(br(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},sd={arrayToObject:id,assign:by,combine:_y,compact:vy,decode:gy,encode:yy,isBuffer:wy,isRegExp:my,maybeMap:Sy,merge:py},od=uy,Zi=sd,qn=Yc,Ey=Object.prototype.hasOwnProperty,jl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Dt=Array.isArray,Cy=Array.prototype.push,ad=function(t,e){Cy.apply(t,Dt(e)?e:[e])},Ry=Date.prototype.toISOString,Dl=qn.default,Pe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Zi.encode,encodeValuesOnly:!1,format:Dl,formatter:qn.formatters[Dl],indices:!1,serializeDate:function(e){return Ry.call(e)},skipNulls:!1,strictNullHandling:!1},xy=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Pa={},Iy=function t(e,r,n,i,s,o,a,c,u,l,h,f,d,y,E,R){for(var v=e,_=R,S=0,M=!1;(_=_.get(Pa))!==void 0&&!M;){var I=_.get(e);if(S+=1,typeof I<"u"){if(I===S)throw new RangeError("Cyclic object value");M=!0}typeof _.get(Pa)>"u"&&(S=0)}if(typeof c=="function"?v=c(r,v):v instanceof Date?v=h(v):n==="comma"&&Dt(v)&&(v=Zi.maybeMap(v,function(ye){return ye instanceof Date?h(ye):ye})),v===null){if(s)return a&&!y?a(r,Pe.encoder,E,"key",f):r;v=""}if(xy(v)||Zi.isBuffer(v)){if(a){var L=y?r:a(r,Pe.encoder,E,"key",f);return[d(L)+"="+d(a(v,Pe.encoder,E,"value",f))]}return[d(r)+"="+d(String(v))]}var z=[];if(typeof v>"u")return z;var te;if(n==="comma"&&Dt(v))y&&a&&(v=Zi.maybeMap(v,a)),te=[{value:v.length>0?v.join(",")||null:void 0}];else if(Dt(c))te=c;else{var D=Object.keys(v);te=u?D.sort(u):D}for(var F=i&&Dt(v)&&v.length===1?r+"[]":r,re=0;re<te.length;++re){var B=te[re],J=typeof B=="object"&&typeof B.value<"u"?B.value:v[B];if(!(o&&J===null)){var N=Dt(v)?typeof n=="function"?n(F,B):F:F+(l?"."+B:"["+B+"]");R.set(e,S);var oe=od();oe.set(Pa,R),ad(z,t(J,N,n,i,s,o,n==="comma"&&y&&Dt(v)?null:a,c,u,l,h,f,d,y,E,oe))}}return z},Ay=function(e){if(!e)return Pe;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Pe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=qn.default;if(typeof e.format<"u"){if(!Ey.call(qn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=qn.formatters[n],s=Pe.filter;return(typeof e.filter=="function"||Dt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Pe.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Pe.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pe.charsetSentinel,delimiter:typeof e.delimiter>"u"?Pe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Pe.encode,encoder:typeof e.encoder=="function"?e.encoder:Pe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Pe.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Pe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Pe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pe.strictNullHandling}},My=function(t,e){var r=t,n=Ay(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Dt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in jl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=jl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=od(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||ad(o,Iy(r[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),d.length>0?y+d:""},cn=sd,Sc=Object.prototype.hasOwnProperty,Ty=Array.isArray,Ce={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:cn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Oy=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},cd=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ky="utf8=%26%2310003%3B",Ny="utf8=%E2%9C%93",Ly=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Ny?u="utf-8":o[c]===ky&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],h=l.indexOf("]="),f=h===-1?l.indexOf("="):h+1,d,y;f===-1?(d=r.decoder(l,Ce.decoder,u,"key"),y=r.strictNullHandling?null:""):(d=r.decoder(l.slice(0,f),Ce.decoder,u,"key"),y=cn.maybeMap(cd(l.slice(f+1),r),function(E){return r.decoder(E,Ce.decoder,u,"value")})),y&&r.interpretNumericEntities&&u==="iso-8859-1"&&(y=Oy(y)),l.indexOf("[]=")>-1&&(y=Ty(y)?[y]:y),Sc.call(n,d)?n[d]=cn.combine(n[d],y):n[d]=y}return n},Py=function(t,e,r,n){for(var i=n?e:cd(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},$y=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&Sc.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&Sc.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Py(l,r,n,i)}},jy=function(e){if(!e)return Ce;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ce.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ce.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ce.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ce.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ce.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ce.comma,decoder:typeof e.decoder=="function"?e.decoder:Ce.decoder,delimiter:typeof e.delimiter=="string"||cn.isRegExp(e.delimiter)?e.delimiter:Ce.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ce.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ce.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ce.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ce.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}},Dy=function(t,e){var r=jy(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ly(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=$y(a,n[a],r,typeof t=="string");i=cn.merge(i,c,r)}return r.allowSparse===!0?i:cn.compact(i)},By=My,Fy=Dy,Wy=Yc,Uy={formats:Wy,parse:Fy,stringify:By},di={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(di);var Vy=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(O,"__esModule",{value:!0});O.isInIFrame=O.createQrUrl=O.getFavicon=O.range=O.isBigNumber=O.ensureParsedJSONObject=O.ensureBN=O.ensureRegExpString=O.ensureIntNumber=O.ensureBuffer=O.ensureAddressString=O.ensureEvenLengthHexString=O.ensureHexString=O.isHexString=O.prepend0x=O.strip0x=O.has0xPrefix=O.hexStringFromIntNumber=O.intNumberFromHexString=O.bigIntStringFromBN=O.hexStringFromBuffer=O.hexStringToUint8Array=O.uint8ArrayToHex=O.randomBytesHex=void 0;const Yt=Vy(ms.exports),Hy=Uy,st=di,ud=/^[0-9]*$/,ld=/^[a-f0-9]*$/;function zy(t){return fd(crypto.getRandomValues(new Uint8Array(t)))}O.randomBytesHex=zy;function fd(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}O.uint8ArrayToHex=fd;function qy(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}O.hexStringToUint8Array=qy;function Gy(t,e=!1){const r=t.toString("hex");return(0,st.HexString)(e?"0x"+r:r)}O.hexStringFromBuffer=Gy;function Jy(t){return(0,st.BigIntString)(t.toString(10))}O.bigIntStringFromBN=Jy;function Qy(t){return(0,st.IntNumber)(new Yt.default(bi(t,!1),16).toNumber())}O.intNumberFromHexString=Qy;function Zy(t){return(0,st.HexString)("0x"+new Yt.default(t).toString(16))}O.hexStringFromIntNumber=Zy;function Kc(t){return t.startsWith("0x")||t.startsWith("0X")}O.has0xPrefix=Kc;function Is(t){return Kc(t)?t.slice(2):t}O.strip0x=Is;function hd(t){return Kc(t)?"0x"+t.slice(2):"0x"+t}O.prepend0x=hd;function pi(t){if(typeof t!="string")return!1;const e=Is(t).toLowerCase();return ld.test(e)}O.isHexString=pi;function dd(t,e=!1){if(typeof t=="string"){const r=Is(t).toLowerCase();if(ld.test(r))return(0,st.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}O.ensureHexString=dd;function bi(t,e=!1){let r=dd(t,!1);return r.length%2===1&&(r=(0,st.HexString)("0"+r)),e?(0,st.HexString)("0x"+r):r}O.ensureEvenLengthHexString=bi;function Yy(t){if(typeof t=="string"){const e=Is(t).toLowerCase();if(pi(e)&&e.length===40)return(0,st.AddressString)(hd(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}O.ensureAddressString=Yy;function Ky(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(pi(t)){const e=bi(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}O.ensureBuffer=Ky;function pd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,st.IntNumber)(t);if(typeof t=="string"){if(ud.test(t))return(0,st.IntNumber)(Number(t));if(pi(t))return(0,st.IntNumber)(new Yt.default(bi(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}O.ensureIntNumber=pd;function Xy(t){if(t instanceof RegExp)return(0,st.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}O.ensureRegExpString=Xy;function ev(t){if(t!==null&&(Yt.default.isBN(t)||bd(t)))return new Yt.default(t.toString(10),10);if(typeof t=="number")return new Yt.default(pd(t));if(typeof t=="string"){if(ud.test(t))return new Yt.default(t,10);if(pi(t))return new Yt.default(bi(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}O.ensureBN=ev;function tv(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}O.ensureParsedJSONObject=tv;function bd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}O.isBigNumber=bd;function rv(t,e){return Array.from({length:e-t},(r,n)=>t+n)}O.range=rv;function nv(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}O.getFavicon=nv;function iv(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Hy.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}O.createQrUrl=iv;function sv(){try{return window.frameElement!==null}catch{return!1}}O.isInIFrame=sv;Object.defineProperty(En,"__esModule",{value:!0});En.Session=void 0;const Bl=Fh.exports,Fl=O,Wl="session:id",Ul="session:secret",Vl="session:linked";class Xc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Fl.randomBytesHex)(16),this._secret=n||(0,Fl.randomBytesHex)(32),this._key=new Bl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Wl),n=e.getItem(Vl),i=e.getItem(Ul);return r&&i?new Xc(e,r,i,n==="1"):null}static hash(e){return new Bl.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Wl,this._id),this._storage.setItem(Ul,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Vl,this._linked?"1":"0")}}En.Session=Xc;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.WalletSDKRelayAbstract=yt.APP_VERSION_KEY=yt.LOCAL_STORAGE_ADDRESSES_KEY=yt.WALLET_USER_NAME_KEY=void 0;const Hl=Ss;yt.WALLET_USER_NAME_KEY="walletUsername";yt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";yt.APP_VERSION_KEY="AppVersion";class ov{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Hl.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Hl.serializeError)(s);return i})}}yt.WalletSDKRelayAbstract=ov;var as={exports:{}},gd=Bc.exports.EventEmitter;function zl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zl(Object(r),!0).forEach(function(n){av(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zl(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function av(t,e,r){return e=yd(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yd(n.key),n)}}function uv(t,e,r){return e&&Gl(t.prototype,e),r&&Gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yd(t){var e=lv(t,"string");return typeof e=="symbol"?e:String(e)}function lv(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fv=vs,Yi=fv.Buffer,hv=zc,Ec=hv.inspect,dv=Ec&&Ec.custom||"inspect";function pv(t,e,r){Yi.prototype.copy.call(t,e,r)}var bv=function(){function t(){cv(this,t),this.head=null,this.tail=null,this.length=0}return uv(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Yi.alloc(0);for(var n=Yi.allocUnsafe(r>>>0),i=this.head,s=0;i;)pv(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Yi.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:dv,value:function(r,n){return Ec(this,ql(ql({},n),{},{depth:0,customInspect:!1}))}}]),t}();function gv(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Cc,this,t)):process.nextTick(Cc,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Ki,r):(r._writableState.errorEmitted=!0,process.nextTick(Jl,r,s)):process.nextTick(Jl,r,s):e?(process.nextTick(Ki,r),e(s)):process.nextTick(Ki,r)}),this)}function Jl(t,e){Cc(t,e),Ki(t)}function Ki(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function yv(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Cc(t,e){t.emit("error",e)}function vv(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var vd={destroy:gv,undestroy:yv,errorOrDestroy:vv},$r={};function mv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var md={};function at(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){mv(o,s);function o(a,c,u){return s.call(this,n(a,c,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,md[t]=i}function Ql(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function wv(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function _v(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Sv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}at("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);at("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&wv(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(_v(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Ql(e,"type"));else{var s=Sv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Ql(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);at("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");at("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});at("ERR_STREAM_PREMATURE_CLOSE","Premature close");at("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});at("ERR_MULTIPLE_CALLBACK","Callback called multiple times");at("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");at("ERR_STREAM_WRITE_AFTER_END","write after end");at("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);at("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);at("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");$r.codes=md;var Ev=$r.codes.ERR_INVALID_OPT_VALUE;function Cv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Rv(t,e,r,n){var i=Cv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Ev(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var wd={getHighWaterMark:Rv},xv=Iv;function Iv(t,e){if($a("noDeprecation"))return t;var r=!1;function n(){if(!r){if($a("throwDeprecation"))throw new Error(e);$a("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function $a(t){try{if(!A.localStorage)return!1}catch{return!1}var e=A.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var _d=he;function Sd(t){var e=this;this.next=null,this.entry=null,this.finish=function(){em(e,t)}}var Yr;he.WritableState=gi;var Av={deprecate:xv},Ed=gd,As=vs.Buffer,Mv=(typeof A<"u"?A:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Tv(t){return As.from(t)}function Ov(t){return As.isBuffer(t)||t instanceof Mv}var eu=vd,kv=wd,Nv=kv.getHighWaterMark,lr=$r.codes,Lv=lr.ERR_INVALID_ARG_TYPE,Pv=lr.ERR_METHOD_NOT_IMPLEMENTED,$v=lr.ERR_MULTIPLE_CALLBACK,jv=lr.ERR_STREAM_CANNOT_PIPE,Dv=lr.ERR_STREAM_DESTROYED,Bv=lr.ERR_STREAM_NULL_VALUES,Fv=lr.ERR_STREAM_WRITE_AFTER_END,Wv=lr.ERR_UNKNOWN_ENCODING,un=eu.errorOrDestroy;vt.exports(he,Ed);function Uv(){}function gi(t,e,r){Yr=Yr||xn,t=t||{},typeof r!="boolean"&&(r=e instanceof Yr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Nv(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Qv(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Sd(this)}gi.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(gi.prototype,"buffer",{get:Av.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Xi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Xi=Function.prototype[Symbol.hasInstance],Object.defineProperty(he,Symbol.hasInstance,{value:function(e){return Xi.call(this,e)?!0:this!==he?!1:e&&e._writableState instanceof gi}})):Xi=function(e){return e instanceof this};function he(t){Yr=Yr||xn;var e=this instanceof Yr;if(!e&&!Xi.call(he,this))return new he(t);this._writableState=new gi(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),Ed.call(this)}he.prototype.pipe=function(){un(this,new jv)};function Vv(t,e){var r=new Fv;un(t,r),process.nextTick(e,r)}function Hv(t,e,r,n){var i;return r===null?i=new Bv:typeof r!="string"&&!e.objectMode&&(i=new Lv("chunk",["string","Buffer"],r)),i?(un(t,i),process.nextTick(n,i),!1):!0}he.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Ov(t);return s&&!As.isBuffer(t)&&(t=Tv(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Uv),n.ending?Vv(this,r):(s||Hv(this,n,t,r))&&(n.pendingcb++,i=qv(this,n,s,t,e,r)),i};he.prototype.cork=function(){this._writableState.corked++};he.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Cd(this,t))};he.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Wv(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(he.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function zv(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=As.from(e,r)),e}Object.defineProperty(he.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function qv(t,e,r,n,i,s){if(!r){var o=zv(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Rc(t,e,!1,a,n,i,s);return c}function Rc(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Dv("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Gv(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(ti,t,e),t._writableState.errorEmitted=!0,un(t,n)):(i(n),t._writableState.errorEmitted=!0,un(t,n),ti(t,e))}function Jv(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Qv(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new $v;if(Jv(r),e)Gv(t,r,n,e,i);else{var s=Rd(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Cd(t,r),n?process.nextTick(Zl,t,r,s,i):Zl(t,r,s,i)}}function Zl(t,e,r,n){r||Zv(t,e),e.pendingcb--,n(),ti(t,e)}function Zv(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Cd(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Rc(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Sd(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,h=e.objectMode?1:c.length;if(Rc(t,e,!1,h,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}he.prototype._write=function(t,e,r){r(new Pv("_write()"))};he.prototype._writev=null;he.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Xv(this,n,r),this};Object.defineProperty(he.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Rd(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Yv(t,e){t._final(function(r){e.pendingcb--,r&&un(t,r),e.prefinished=!0,t.emit("prefinish"),ti(t,e)})}function Kv(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Yv,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function ti(t,e){var r=Rd(e);if(r&&(Kv(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Xv(t,e,r){e.ending=!0,ti(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function em(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(he.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});he.prototype.destroy=eu.destroy;he.prototype._undestroy=eu.undestroy;he.prototype._destroy=function(t,e){e(t)};var tm=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},xn=Lt,xd=Ad,xc=_d;vt.exports(Lt,xd);for(var Yl=tm(xc.prototype),ja=0;ja<Yl.length;ja++){var Da=Yl[ja];Lt.prototype[Da]||(Lt.prototype[Da]=xc.prototype[Da])}function Lt(t){if(!(this instanceof Lt))return new Lt(t);xd.call(this,t),xc.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",rm)))}Object.defineProperty(Lt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Lt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Lt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rm(){this._writableState.ended||process.nextTick(nm,this)}function nm(t){t.end()}Object.defineProperty(Lt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var tu={},ru=Nt.exports.Buffer,Kl=ru.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function im(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function sm(t){var e=im(t);if(typeof e!="string"&&(ru.isEncoding===Kl||!Kl(t)))throw new Error("Unknown encoding: "+t);return e||t}tu.StringDecoder=yi;function yi(t){this.encoding=sm(t);var e;switch(this.encoding){case"utf16le":this.text=fm,this.end=hm,e=4;break;case"utf8":this.fillLast=cm,e=4;break;case"base64":this.text=dm,this.end=pm,e=3;break;default:this.write=bm,this.end=gm;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ru.allocUnsafe(e)}yi.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};yi.prototype.end=lm;yi.prototype.text=um;yi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Ba(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function om(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Ba(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ba(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ba(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function am(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function cm(t){var e=this.lastTotal-this.lastNeed,r=am(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function um(t,e){var r=om(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function lm(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function fm(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function hm(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function dm(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function pm(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function bm(t){return t.toString(this.encoding)}function gm(t){return t&&t.length?this.write(t):""}var Xl=$r.codes.ERR_STREAM_PREMATURE_CLOSE;function ym(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function vm(){}function mm(t){return t.setHeader&&typeof t.abort=="function"}function Id(t,e,r){if(typeof e=="function")return Id(t,null,e);e||(e={}),r=ym(r||vm);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(y){r.call(t,y)},h=function(){var y;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(y=new Xl),r.call(t,y);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(y=new Xl),r.call(t,y)},f=function(){t.req.on("finish",a)};return mm(t)?(t.on("complete",a),t.on("abort",h),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",h)}}var nu=Id,$i;function Qt(t,e,r){return e=wm(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wm(t){var e=_m(t,"string");return typeof e=="symbol"?e:String(e)}function _m(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sm=nu,Zt=Symbol("lastResolve"),pr=Symbol("lastReject"),Gn=Symbol("error"),cs=Symbol("ended"),wr=Symbol("lastPromise"),iu=Symbol("handlePromise"),_r=Symbol("stream");function er(t,e){return{value:t,done:e}}function Em(t){var e=t[Zt];if(e!==null){var r=t[_r].read();r!==null&&(t[wr]=null,t[Zt]=null,t[pr]=null,e(er(r,!1)))}}function Cm(t){process.nextTick(Em,t)}function Rm(t,e){return function(r,n){t.then(function(){if(e[cs]){r(er(void 0,!0));return}e[iu](r,n)},n)}}var xm=Object.getPrototypeOf(function(){}),Im=Object.setPrototypeOf(($i={get stream(){return this[_r]},next:function(){var e=this,r=this[Gn];if(r!==null)return Promise.reject(r);if(this[cs])return Promise.resolve(er(void 0,!0));if(this[_r].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Gn]?a(e[Gn]):o(er(void 0,!0))})});var n=this[wr],i;if(n)i=new Promise(Rm(n,this));else{var s=this[_r].read();if(s!==null)return Promise.resolve(er(s,!1));i=new Promise(this[iu])}return this[wr]=i,i}},Qt($i,Symbol.asyncIterator,function(){return this}),Qt($i,"return",function(){var e=this;return new Promise(function(r,n){e[_r].destroy(null,function(i){if(i){n(i);return}r(er(void 0,!0))})})}),$i),xm),Am=function(e){var r,n=Object.create(Im,(r={},Qt(r,_r,{value:e,writable:!0}),Qt(r,Zt,{value:null,writable:!0}),Qt(r,pr,{value:null,writable:!0}),Qt(r,Gn,{value:null,writable:!0}),Qt(r,cs,{value:e._readableState.endEmitted,writable:!0}),Qt(r,iu,{value:function(s,o){var a=n[_r].read();a?(n[wr]=null,n[Zt]=null,n[pr]=null,s(er(a,!1))):(n[Zt]=s,n[pr]=o)},writable:!0}),r));return n[wr]=null,Sm(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[pr];s!==null&&(n[wr]=null,n[Zt]=null,n[pr]=null,s(i)),n[Gn]=i;return}var o=n[Zt];o!==null&&(n[wr]=null,n[Zt]=null,n[pr]=null,o(er(void 0,!0))),n[cs]=!0}),e.on("readable",Cm.bind(null,n)),n},Mm=Am,Tm=function(){throw new Error("Readable.from is not available in the browser")},Ad=K,Kr;K.ReadableState=Td;Bc.exports.EventEmitter;var Md=function(e,r){return e.listeners(r).length},vi=gd,Ms=vs.Buffer,Om=(typeof A<"u"?A:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function km(t){return Ms.from(t)}function Nm(t){return Ms.isBuffer(t)||t instanceof Om}var Fa=zc,V;Fa&&Fa.debuglog?V=Fa.debuglog("stream"):V=function(){};var Lm=bv,su=vd,Pm=wd,$m=Pm.getHighWaterMark,Ts=$r.codes,jm=Ts.ERR_INVALID_ARG_TYPE,Dm=Ts.ERR_STREAM_PUSH_AFTER_EOF,Bm=Ts.ERR_METHOD_NOT_IMPLEMENTED,Fm=Ts.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Xr,Wa,Ua;vt.exports(K,vi);var Jn=su.errorOrDestroy,Va=["error","close","destroy","pause","resume"];function Wm(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Td(t,e,r){Kr=Kr||xn,t=t||{},typeof r!="boolean"&&(r=e instanceof Kr),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=$m(this,t,"readableHighWaterMark",r),this.buffer=new Lm,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xr||(Xr=tu.StringDecoder),this.decoder=new Xr(t.encoding),this.encoding=t.encoding)}function K(t){if(Kr=Kr||xn,!(this instanceof K))return new K(t);var e=this instanceof Kr;this._readableState=new Td(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),vi.call(this)}Object.defineProperty(K.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});K.prototype.destroy=su.destroy;K.prototype._undestroy=su.undestroy;K.prototype._destroy=function(t,e){e(t)};K.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ms.from(t,e),e=""),n=!0),Od(this,t,e,!1,n)};K.prototype.unshift=function(t){return Od(this,t,null,!0,!1)};function Od(t,e,r,n,i){V("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Hm(t,s);else{var o;if(i||(o=Um(s,e)),o)Jn(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Ms.prototype&&(e=km(e)),n)s.endEmitted?Jn(t,new Fm):Ha(t,s,e,!0);else if(s.ended)Jn(t,new Dm);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Ha(t,s,e,!1):Ic(t,s)):Ha(t,s,e,!1)}else n||(s.reading=!1,Ic(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function Ha(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Os(t)),Ic(t,e)}function Um(t,e){var r;return!Nm(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new jm("chunk",["string","Buffer","Uint8Array"],e)),r}K.prototype.isPaused=function(){return this._readableState.flowing===!1};K.prototype.setEncoding=function(t){Xr||(Xr=tu.StringDecoder);var e=new Xr(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var ef=1073741824;function Vm(t){return t>=ef?t=ef:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function tf(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Vm(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}K.prototype.read=function(t){V("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return V("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?za(this):Os(this),null;if(t=tf(t,e),t===0&&e.ended)return e.length===0&&za(this),null;var n=e.needReadable;V("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,V("length less than watermark",n)),e.ended||e.reading?(n=!1,V("reading or ended",n)):n&&(V("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=tf(r,e)));var i;return t>0?i=Ld(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&za(this)),i!==null&&this.emit("data",i),i};function Hm(t,e){if(V("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Os(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,kd(t)))}}function Os(t){var e=t._readableState;V("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(V("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(kd,t))}function kd(t){var e=t._readableState;V("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ou(t)}function Ic(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(zm,t,e))}function zm(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(V("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}K.prototype._read=function(t){Jn(this,new Bm("_read()"))};K.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,V("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?a:E;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,v){V("onunpipe"),R===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,l())}function a(){V("onend"),t.end()}var c=qm(r);t.on("drain",c);var u=!1;function l(){V("cleanup"),t.removeListener("close",d),t.removeListener("finish",y),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",h),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",h);function h(R){V("ondata");var v=t.write(R);V("dest.write",v),v===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&Pd(n.pipes,t)!==-1)&&!u&&(V("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(R){V("onerror",R),E(),t.removeListener("error",f),Md(t,"error")===0&&Jn(t,R)}Wm(t,"error",f);function d(){t.removeListener("finish",y),E()}t.once("close",d);function y(){V("onfinish"),t.removeListener("close",d),E()}t.once("finish",y);function E(){V("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(V("pipe resume"),r.resume()),t};function qm(t){return function(){var r=t._readableState;V("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Md(t,"data")&&(r.flowing=!0,ou(t))}}K.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Pd(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};K.prototype.on=function(t,e){var r=vi.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,V("on readable",n.length,n.reading),n.length?Os(this):n.reading||process.nextTick(Gm,this)),r};K.prototype.addListener=K.prototype.on;K.prototype.removeListener=function(t,e){var r=vi.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Nd,this),r};K.prototype.removeAllListeners=function(t){var e=vi.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Nd,this),e};function Nd(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Gm(t){V("readable nexttick read 0"),t.read(0)}K.prototype.resume=function(){var t=this._readableState;return t.flowing||(V("resume"),t.flowing=!t.readableListening,Jm(this,t)),t.paused=!1,this};function Jm(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Qm,t,e))}function Qm(t,e){V("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ou(t),e.flowing&&!e.reading&&t.read(0)}K.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ou(t){var e=t._readableState;for(V("flow",e.flowing);e.flowing&&t.read()!==null;);}K.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(V("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(V("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<Va.length;s++)t.on(Va[s],this.emit.bind(this,Va[s]));return this._read=function(o){V("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(K.prototype[Symbol.asyncIterator]=function(){return Wa===void 0&&(Wa=Mm),Wa(this)});Object.defineProperty(K.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(K.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(K.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});K._fromList=Ld;Object.defineProperty(K.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ld(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function za(t){var e=t._readableState;V("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Zm,e,t))}function Zm(t,e){if(V("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(K.from=function(t,e){return Ua===void 0&&(Ua=Tm),Ua(K,t,e)});function Pd(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var $d=Wt,ks=$r.codes,Ym=ks.ERR_METHOD_NOT_IMPLEMENTED,Km=ks.ERR_MULTIPLE_CALLBACK,Xm=ks.ERR_TRANSFORM_ALREADY_TRANSFORMING,e1=ks.ERR_TRANSFORM_WITH_LENGTH_0,Ns=xn;vt.exports(Wt,Ns);function t1(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Km);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Wt(t){if(!(this instanceof Wt))return new Wt(t);Ns.call(this,t),this._transformState={afterTransform:t1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",r1)}function r1(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){rf(t,e,r)}):rf(this,null,null)}Wt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ns.prototype.push.call(this,t,e)};Wt.prototype._transform=function(t,e,r){r(new Ym("_transform()"))};Wt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Wt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Wt.prototype._destroy=function(t,e){Ns.prototype._destroy.call(this,t,function(r){e(r)})};function rf(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new e1;if(t._transformState.transforming)throw new Xm;return t.push(null)}var n1=ri,jd=$d;vt.exports(ri,jd);function ri(t){if(!(this instanceof ri))return new ri(t);jd.call(this,t)}ri.prototype._transform=function(t,e,r){r(null,t)};var qa;function i1(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Dd=$r.codes,s1=Dd.ERR_MISSING_ARGS,o1=Dd.ERR_STREAM_DESTROYED;function nf(t){if(t)throw t}function a1(t){return t.setHeader&&typeof t.abort=="function"}function c1(t,e,r,n){n=i1(n);var i=!1;t.on("close",function(){i=!0}),qa===void 0&&(qa=nu),qa(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,a1(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new o1("pipe"))}}}function sf(t){t()}function u1(t,e){return t.pipe(e)}function l1(t){return!t.length||typeof t[t.length-1]!="function"?nf:t.pop()}function f1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=l1(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s1("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return c1(o,c,u,function(l){i||(i=l),l&&s.forEach(sf),!c&&(s.forEach(sf),n(i))})});return e.reduce(u1)}var h1=f1;(function(t,e){e=t.exports=Ad,e.Stream=e,e.Readable=e,e.Writable=_d,e.Duplex=xn,e.Transform=$d,e.PassThrough=n1,e.finished=nu,e.pipeline=h1})(as,as.exports);const{Transform:d1}=as.exports;var p1=t=>class Bd extends d1{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Bd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:b1}=as.exports;var g1=t=>class Fd extends b1{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fd(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const y1=p1,v1=g1;var m1=function(t){const e=y1(t),r=v1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Wd={};const of=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Wd.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let f=l^(i<<1|s>>>31),d=h^(s<<1|i>>>31);const y=t[0]^f,E=t[1]^d,R=t[10]^f,v=t[11]^d,_=t[20]^f,S=t[21]^d,M=t[30]^f,I=t[31]^d,L=t[40]^f,z=t[41]^d;f=r^(o<<1|a>>>31),d=n^(a<<1|o>>>31);const te=t[2]^f,D=t[3]^d,F=t[12]^f,re=t[13]^d,B=t[22]^f,J=t[23]^d,N=t[32]^f,oe=t[33]^d,ye=t[42]^f,p=t[43]^d;f=i^(c<<1|u>>>31),d=s^(u<<1|c>>>31);const b=t[4]^f,g=t[5]^d,w=t[14]^f,x=t[15]^d,C=t[24]^f,P=t[25]^d,Q=t[34]^f,_e=t[35]^d,T=t[44]^f,Z=t[45]^d;f=o^(l<<1|h>>>31),d=a^(h<<1|l>>>31);const fe=t[6]^f,ne=t[7]^d,Ge=t[16]^f,ut=t[17]^d,lt=t[26]^f,_t=t[27]^d,Ht=t[36]^f,rl=t[37]^d,nl=t[46]^f,il=t[47]^d;f=c^(r<<1|n>>>31),d=u^(n<<1|r>>>31);const sl=t[8]^f,ol=t[9]^d,al=t[18]^f,cl=t[19]^d,ul=t[28]^f,ll=t[29]^d,fl=t[38]^f,hl=t[39]^d,dl=t[48]^f,pl=t[49]^d,To=y,Oo=E,ko=v<<4|R>>>28,No=R<<4|v>>>28,Lo=_<<3|S>>>29,Po=S<<3|_>>>29,$o=I<<9|M>>>23,jo=M<<9|I>>>23,Do=L<<18|z>>>14,Bo=z<<18|L>>>14,Fo=te<<1|D>>>31,Wo=D<<1|te>>>31,Uo=re<<12|F>>>20,Vo=F<<12|re>>>20,Ho=B<<10|J>>>22,zo=J<<10|B>>>22,qo=oe<<13|N>>>19,Go=N<<13|oe>>>19,Jo=ye<<2|p>>>30,Qo=p<<2|ye>>>30,Zo=g<<30|b>>>2,Yo=b<<30|g>>>2,Ko=w<<6|x>>>26,Xo=x<<6|w>>>26,ea=P<<11|C>>>21,ta=C<<11|P>>>21,ra=Q<<15|_e>>>17,na=_e<<15|Q>>>17,ia=Z<<29|T>>>3,sa=T<<29|Z>>>3,oa=fe<<28|ne>>>4,aa=ne<<28|fe>>>4,ca=ut<<23|Ge>>>9,ua=Ge<<23|ut>>>9,la=lt<<25|_t>>>7,fa=_t<<25|lt>>>7,ha=Ht<<21|rl>>>11,da=rl<<21|Ht>>>11,pa=il<<24|nl>>>8,ba=nl<<24|il>>>8,ga=sl<<27|ol>>>5,ya=ol<<27|sl>>>5,va=al<<20|cl>>>12,ma=cl<<20|al>>>12,wa=ll<<7|ul>>>25,_a=ul<<7|ll>>>25,Sa=fl<<8|hl>>>24,Ea=hl<<8|fl>>>24,Ca=dl<<14|pl>>>18,Ra=pl<<14|dl>>>18;t[0]=To^~Uo&ea,t[1]=Oo^~Vo&ta,t[10]=oa^~va&Lo,t[11]=aa^~ma&Po,t[20]=Fo^~Ko&la,t[21]=Wo^~Xo&fa,t[30]=ga^~ko&Ho,t[31]=ya^~No&zo,t[40]=Zo^~ca&wa,t[41]=Yo^~ua&_a,t[2]=Uo^~ea&ha,t[3]=Vo^~ta&da,t[12]=va^~Lo&qo,t[13]=ma^~Po&Go,t[22]=Ko^~la&Sa,t[23]=Xo^~fa&Ea,t[32]=ko^~Ho&ra,t[33]=No^~zo&na,t[42]=ca^~wa&$o,t[43]=ua^~_a&jo,t[4]=ea^~ha&Ca,t[5]=ta^~da&Ra,t[14]=Lo^~qo&ia,t[15]=Po^~Go&sa,t[24]=la^~Sa&Do,t[25]=fa^~Ea&Bo,t[34]=Ho^~ra&pa,t[35]=zo^~na&ba,t[44]=wa^~$o&Jo,t[45]=_a^~jo&Qo,t[6]=ha^~Ca&To,t[7]=da^~Ra&Oo,t[16]=qo^~ia&oa,t[17]=Go^~sa&aa,t[26]=Sa^~Do&Fo,t[27]=Ea^~Bo&Wo,t[36]=ra^~pa&ga,t[37]=na^~ba&ya,t[46]=$o^~Jo&Zo,t[47]=jo^~Qo&Yo,t[8]=Ca^~To&Uo,t[9]=Ra^~Oo&Vo,t[18]=ia^~oa&va,t[19]=sa^~aa&ma,t[28]=Do^~Fo&Ko,t[29]=Bo^~Wo&Xo,t[38]=pa^~ga&ko,t[39]=ba^~ya&No,t[48]=Jo^~Zo&ca,t[49]=Qo^~Yo&ua,t[0]^=of[e*2],t[1]^=of[e*2+1]}};const us=Wd;function In(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}In.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};In.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(us.p1600(this.state),this.count=0)};In.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&us.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),us.p1600(this.state),this.count=0,this.squeezing=!0};In.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(us.p1600(this.state),this.count=0);return e};In.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var w1=In,_1=m1(w1);const S1=_1,E1=ms.exports;function Ud(t){return Buffer.allocUnsafe(t).fill(0)}function Vd(t,e,r){const n=Ud(e);return t=Ls(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function C1(t,e){return Vd(t,e,!0)}function Ls(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Hd(t)?t=Buffer.from(I1(zd(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(E1.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function R1(t){return t=Ls(t),"0x"+t.toString("hex")}function x1(t,e){return t=Ls(t),e||(e=256),S1("keccak"+e).update(t).digest()}function I1(t){return t.length%2?"0"+t:t}function Hd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function zd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var qd={zeros:Ud,setLength:Vd,setLengthRight:C1,isHexString:Hd,stripHexPrefix:zd,toBuffer:Ls,bufferToHex:R1,keccak:x1};const Ir=qd,Sr=ms.exports;function Gd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function en(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function af(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Jd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function gr(t){var e=typeof t;if(e==="string")return Ir.isHexString(t)?new Sr(Ir.stripHexPrefix(t),16):new Sr(t,10);if(e==="number")return new Sr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Rt(t,e){var r,n,i,s;if(t==="address")return Rt("uint160",gr(e));if(t==="bool")return Rt("uint8",e?1:0);if(t==="string")return Rt("bytes",new Buffer(e,"utf8"));if(M1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Jd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Rt(t,e[s]));if(r==="dynamic"){var o=Rt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Rt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Ir.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=en(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Ir.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=en(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=gr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=en(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=gr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=af(t),n=gr(e),n<0)throw new Error("Supplied ufixed is negative");return Rt("uint256",n.mul(new Sr(2).pow(new Sr(r[1]))))}else if(t.startsWith("fixed"))return r=af(t),Rt("int256",gr(e).mul(new Sr(2).pow(new Sr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function A1(t){return t==="string"||t==="bytes"||Jd(t)==="dynamic"}function M1(t){return t.lastIndexOf("]")===t.length-1}function T1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Gd(t[s]),a=e[s],c=Rt(o,a);A1(o)?(r.push(Rt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Qd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Gd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Ir.setLength(a,20));else if(o.startsWith("bytes")){if(r=en(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Ir.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=en(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=gr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=en(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=gr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function O1(t,e){return Ir.keccak(Qd(t,e))}var k1={rawEncode:T1,solidityPack:Qd,soliditySHA3:O1};const dt=qd,Qn=k1,Zd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ga={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":dt.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",dt.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",dt.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),h=u.map(f=>o(a,l,f));return["bytes32",dt.keccak(Qn.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=dt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=dt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=dt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Qn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return dt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return dt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Zd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),dt.keccak(Buffer.concat(n))}};var N1={TYPED_MESSAGE_SCHEMA:Zd,TypedDataUtils:Ga,hashForSignTypedDataLegacy:function(t){return L1(t.data)},hashForSignTypedData_v3:function(t){return Ga.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ga.hash(t.data)}};function L1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?dt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Qn.soliditySHA3(["bytes32","bytes32"],[Qn.soliditySHA3(new Array(t.length).fill("string"),i),Qn.soliditySHA3(n,r)])}var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.filterFromParam=ln.FilterPolyfill=void 0;const qr=di,De=O,P1=5*60*1e3,yr={jsonrpc:"2.0",id:0};class $1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,qr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Yd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,De.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,De.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,De.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,De.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,De.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ji())}async getFilterLogs(e){const r=(0,De.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},yr),{method:"eth_getLogs",params:[cf(n)]})):ji()}makeFilterId(){return(0,qr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return ji();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Di();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},yr),{method:"eth_getLogs",params:[cf(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,De.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,qr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return ji();const n=await this.getCurrentBlockHeight();if(r>n)return Di();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,De.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,qr.IntNumber)(o))))).filter(o=>!!o),s=(0,qr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},yr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Di())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},P1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},yr),{method:"eth_blockNumber",params:[]}));return(0,De.intNumberFromHexString)((0,De.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},yr),{method:"eth_getBlockByNumber",params:[(0,De.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,De.ensureHexString)(r.result.hash):null}}ln.FilterPolyfill=$1;function Yd(t){return{fromBlock:uf(t.fromBlock),toBlock:uf(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}ln.filterFromParam=Yd;function cf(t){const e={fromBlock:lf(t.fromBlock),toBlock:lf(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function uf(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,qr.IntNumber)(0);if((0,De.isHexString)(t))return(0,De.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function lf(t){return t==="latest"?t:(0,De.hexStringFromIntNumber)(t)}function ji(){return Object.assign(Object.assign({},yr),{error:{code:-32e3,message:"filter not found"}})}function Di(){return Object.assign(Object.assign({},yr),{result:[]})}var Kd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Kd);var Ps={},Xd={},$s={},au=j1;function j1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const ff=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var D1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):ff(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?ff(s,e):s}return n},mi={},B1=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});mi.BaseBlockTracker=void 0;const F1=B1(Lr),W1=1e3,U1=(t,e)=>t+e,hf=["sync","latest"];class V1 extends F1.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*W1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){hf.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return hf.map(e=>this.listenerCount(e)).reduce(U1)}_newPotentialLatest(e){const r=this._currentBlock;r&&df(e)<=df(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}mi.BaseBlockTracker=V1;function df(t){return Number.parseInt(t,16)}var ep={},tp={},Te={};class rp extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function H1(t){return ot(t)&&typeof t[Symbol.iterator]=="function"}function ot(t){return typeof t=="object"&&t!=null}function pf(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function we(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function z1(t){const{done:e,value:r}=t.next();return e?void 0:r}function q1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${we(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Ac(t,e,r,n){H1(t)||(t=[t]);for(const i of t){const s=q1(i,e,r,n);s&&(yield s)}}function*cu(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&ot(e.schema)&&ot(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,h]of e.entries(t,a)){const f=cu(l,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const d of f)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(l=d[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):ot(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class ge{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Ac(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Ac(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return np(e,this,r)}create(e,r){return ip(e,this,r)}is(e){return uu(e,this)}mask(e,r){return sp(e,this,r)}validate(e,r={}){return An(e,this,r)}}function np(t,e,r){const n=An(t,e,{message:r});if(n[0])throw n[0]}function ip(t,e,r){const n=An(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function sp(t,e,r){const n=An(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function uu(t,e){return!An(t,e)[0]}function An(t,e,r={}){const n=cu(t,e,r),i=z1(n);if(i[0])return[new rp(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0];{const s=i[1];return[void 0,s]}}function G1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?fu(n):wi(n)}function qe(t,e){return new ge({type:t,schema:null,validator:e})}function J1(t,e){return new ge({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Q1(t){return new ge({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Z1(t){let e;return new ge({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function Y1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return fu(n);default:return wi(n)}}function K1(t){const e=t instanceof ge?{...t.schema}:{...t};for(const r in e)e[r]=op(e[r]);return wi(e)}function X1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return wi(n)}function ew(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),qe(t,e)}function tw(){return qe("any",()=>!0)}function rw(t){return new ge({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${we(e)}`}})}function nw(){return qe("bigint",t=>typeof t=="bigint")}function iw(){return qe("boolean",t=>typeof t=="boolean")}function sw(){return qe("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${we(t)}`)}function ow(t){const e={},r=t.map(n=>we(n)).join();for(const n of t)e[n]=n;return new ge({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${we(n)}`}})}function aw(){return qe("func",t=>typeof t=="function"||`Expected a function, but received: ${we(t)}`)}function cw(t){return qe("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${we(e)}`)}function uw(){return qe("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${we(t)}`)}function lw(t){return new ge({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function fw(t){const e=we(t),r=typeof t;return new ge({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${we(n)}`}})}function hw(t,e){return new ge({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${we(r)}`}})}function lu(){return qe("never",()=>!1)}function dw(t){return new ge({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function pw(){return qe("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${we(t)}`)}function wi(t){const e=t?Object.keys(t):[],r=lu();return new ge({type:"object",schema:t||null,*entries(n){if(t&&ot(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return ot(n)||`Expected an object, but received: ${we(n)}`},coercer(n){return ot(n)?{...n}:n}})}function op(t){return new ge({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function bw(t,e){return new ge({type:"record",schema:null,*entries(r){if(ot(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return ot(r)||`Expected an object, but received: ${we(r)}`}})}function gw(){return qe("regexp",t=>t instanceof RegExp)}function yw(t){return new ge({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${we(e)}`}})}function ap(){return qe("string",t=>typeof t=="string"||`Expected a string, but received: ${we(t)}`)}function vw(t){const e=lu();return new ge({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${we(r)}`}})}function fu(t){const e=Object.keys(t);return new ge({type:"type",schema:t,*entries(r){if(ot(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return ot(r)||`Expected an object, but received: ${we(r)}`},coercer(r){return ot(r)?{...r}:r}})}function mw(t){const e=t.map(r=>r.type).join(" | ");return new ge({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=cu(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${we(r)}`,...i]}})}function cp(){return qe("unknown",()=>!0)}function hu(t,e,r){return new ge({...t,coercer:(n,i)=>uu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function ww(t,e,r={}){return hu(t,cp(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&pf(n)&&pf(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function _w(t){return hu(t,ap(),e=>e.trim())}function Sw(t){return jr(t,"empty",e=>{const r=up(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function up(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Ew(t,e,r={}){const{exclusive:n}=r;return jr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Cw(t,e,r={}){const{exclusive:n}=r;return jr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Rw(t){return jr(t,"nonempty",e=>up(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function xw(t,e){return jr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Iw(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return jr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function jr(t,e,r){return new ge({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=Ac(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}var Aw=Object.freeze(Object.defineProperty({__proto__:null,Struct:ge,StructError:rp,any:tw,array:rw,assert:np,assign:G1,bigint:nw,boolean:iw,coerce:hu,create:ip,date:sw,defaulted:ww,define:qe,deprecated:J1,dynamic:Q1,empty:Sw,enums:ow,func:aw,instance:cw,integer:uw,intersection:lw,is:uu,lazy:Z1,literal:fw,map:hw,mask:sp,max:Ew,min:Cw,never:lu,nonempty:Rw,nullable:dw,number:pw,object:wi,omit:Y1,optional:op,partial:K1,pattern:xw,pick:X1,record:bw,refine:jr,regexp:gw,set:yw,size:Iw,string:ap,struct:ew,trimmed:_w,tuple:vw,type:fu,union:mw,unknown:cp,validate:An},Symbol.toStringTag,{value:"Module"})),Dr=Nr(Aw);Object.defineProperty(Te,"__esModule",{value:!0});Te.assertExhaustive=Te.assertStruct=Te.assert=Te.AssertionError=void 0;const Mw=Dr;function Tw(t){return typeof t=="object"&&t!==null&&"message"in t}function Ow(t){var e,r;return Boolean(typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function kw(t){const e=Tw(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function lp(t,e){return Ow(t)?new t({message:e}):t({message:e})}class du extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Te.AssertionError=du;function Nw(t,e="Assertion failed.",r=du){if(!t)throw e instanceof Error?e:lp(r,e)}Te.assert=Nw;function Lw(t,e,r="Assertion failed",n=du){try{(0,Mw.assert)(t,e)}catch(i){throw lp(n,`${r}: ${kw(i)}.`)}}Te.assertStruct=Lw;function Pw(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Te.assertExhaustive=Pw;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.base64=void 0;const $w=Dr,jw=Te,Dw=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,jw.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,$w.pattern)(t,a)};_i.base64=Dw;var Y={},Si={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Dr,r=Te;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(Si);Object.defineProperty(Y,"__esModule",{value:!0});Y.createDataView=Y.concatBytes=Y.valueToBytes=Y.stringToBytes=Y.numberToBytes=Y.signedBigIntToBytes=Y.bigIntToBytes=Y.hexToBytes=Y.bytesToString=Y.bytesToNumber=Y.bytesToSignedBigInt=Y.bytesToBigInt=Y.bytesToHex=Y.assertIsBytes=Y.isBytes=void 0;const Ze=Te,Mc=Si,bf=48,gf=58,yf=87;function Bw(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const Fw=Bw();function pu(t){return t instanceof Uint8Array}Y.isBytes=pu;function Mn(t){(0,Ze.assert)(pu(t),"Value must be a Uint8Array.")}Y.assertIsBytes=Mn;function fp(t){if(Mn(t),t.length===0)return"0x";const e=Fw(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,Mc.add0x)(r.join(""))}Y.bytesToHex=fp;function hp(t){Mn(t);const e=fp(t);return BigInt(e)}Y.bytesToBigInt=hp;function Ww(t){Mn(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}Y.bytesToSignedBigInt=Ww;function Uw(t){Mn(t);const e=hp(t);return(0,Ze.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Y.bytesToNumber=Uw;function Vw(t){return Mn(t),new TextDecoder().decode(t)}Y.bytesToString=Vw;function js(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,Mc.assertIsHexString)(t);const r=(0,Mc.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<gf?bf:yf),u=a-(a<gf?bf:yf);i[s]=c*16+u}return i}Y.hexToBytes=js;function dp(t){(0,Ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ze.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return js(e)}Y.bigIntToBytes=dp;function Hw(t,e){(0,Ze.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function zw(t,e){(0,Ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ze.assert)(typeof e=="number","Byte length must be a number."),(0,Ze.assert)(e>0,"Byte length must be greater than 0."),(0,Ze.assert)(Hw(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}Y.signedBigIntToBytes=zw;function pp(t){(0,Ze.assert)(typeof t=="number","Value must be a number."),(0,Ze.assert)(t>=0,"Value must be a non-negative number."),(0,Ze.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return js(e)}Y.numberToBytes=pp;function bp(t){return(0,Ze.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Y.stringToBytes=bp;function gp(t){if(typeof t=="bigint")return dp(t);if(typeof t=="number")return pp(t);if(typeof t=="string")return t.startsWith("0x")?js(t):bp(t);if(pu(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Y.valueToBytes=gp;function qw(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=gp(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}Y.concatBytes=qw;function Gw(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Y.createDataView=Gw;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.ChecksumStruct=void 0;const vf=Dr,Jw=_i;Ds.ChecksumStruct=(0,vf.size)((0,Jw.base64)((0,vf.string)(),{paddingRequired:!0}),44,44);var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createHex=Mt.createBytes=Mt.createBigInt=Mt.createNumber=void 0;const ue=Dr,Qw=Te,yp=Y,Bs=Si,vp=(0,ue.union)([(0,ue.number)(),(0,ue.bigint)(),(0,ue.string)(),Bs.StrictHexStruct]),Zw=(0,ue.coerce)((0,ue.number)(),vp,Number),Yw=(0,ue.coerce)((0,ue.bigint)(),vp,BigInt);(0,ue.union)([Bs.StrictHexStruct,(0,ue.instance)(Uint8Array)]);const Kw=(0,ue.coerce)((0,ue.instance)(Uint8Array),(0,ue.union)([Bs.StrictHexStruct]),yp.hexToBytes),Xw=(0,ue.coerce)(Bs.StrictHexStruct,(0,ue.instance)(Uint8Array),yp.bytesToHex);function e_(t){try{const e=(0,ue.create)(t,Zw);return(0,Qw.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof ue.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}Mt.createNumber=e_;function t_(t){try{return(0,ue.create)(t,Yw)}catch(e){throw e instanceof ue.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}Mt.createBigInt=t_;function r_(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,ue.create)(t,Kw)}catch(e){throw e instanceof ue.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Mt.createBytes=r_;function n_(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,ue.create)(t,Xw)}catch(e){throw e instanceof ue.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Mt.createHex=n_;var fn={},mp=A&&A.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Be=A&&A.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ft,Et;Object.defineProperty(fn,"__esModule",{value:!0});fn.FrozenSet=fn.FrozenMap=void 0;class bu{constructor(e){ft.set(this,void 0),mp(this,ft,new Map(e),"f"),Object.freeze(this)}get size(){return Be(this,ft,"f").size}[(ft=new WeakMap,Symbol.iterator)](){return Be(this,ft,"f")[Symbol.iterator]()}entries(){return Be(this,ft,"f").entries()}forEach(e,r){return Be(this,ft,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Be(this,ft,"f").get(e)}has(e){return Be(this,ft,"f").has(e)}keys(){return Be(this,ft,"f").keys()}values(){return Be(this,ft,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}fn.FrozenMap=bu;class gu{constructor(e){Et.set(this,void 0),mp(this,Et,new Set(e),"f"),Object.freeze(this)}get size(){return Be(this,Et,"f").size}[(Et=new WeakMap,Symbol.iterator)](){return Be(this,Et,"f")[Symbol.iterator]()}entries(){return Be(this,Et,"f").entries()}forEach(e,r){return Be(this,Et,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Be(this,Et,"f").has(e)}keys(){return Be(this,Et,"f").keys()}values(){return Be(this,Et,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}fn.FrozenSet=gu;Object.freeze(bu);Object.freeze(bu.prototype);Object.freeze(gu);Object.freeze(gu.prototype);var wp={},yu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return Boolean(u)&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((f,d)=>o(d)?f+1:f+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(yu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Dr,r=Te,n=yu;t.JsonStruct=(0,e.define)("Json",I=>{const[L]=M(I,!0);return L?!0:"Expected a valid JSON-serializable value"});function i(I){return(0,e.is)(I,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(I){return(0,e.is)(I,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(I,L){(0,r.assertStruct)(I,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",L)}t.assertIsJsonRpcNotification=o;function a(I){return(0,e.is)(I,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(I,L){(0,r.assertStruct)(I,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",L)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(I){return(0,e.is)(I,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(I,L){(0,r.assertStruct)(I,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",L)}t.assertIsPendingJsonRpcResponse=l;function h(I){return(0,e.is)(I,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=h;function f(I,L){(0,r.assertStruct)(I,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",L)}t.assertIsJsonRpcResponse=f;function d(I){return(0,e.is)(I,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function y(I,L){(0,r.assertStruct)(I,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",L)}t.assertIsJsonRpcSuccess=y;function E(I){return(0,e.is)(I,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=E;function R(I,L){(0,r.assertStruct)(I,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",L)}t.assertIsJsonRpcFailure=R;function v(I){return(0,e.is)(I,t.JsonRpcErrorStruct)}t.isJsonRpcError=v;function _(I,L){(0,r.assertStruct)(I,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",L)}t.assertIsJsonRpcError=_;function S(I){const{permitEmptyString:L,permitFractions:z,permitNull:te}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},I);return F=>Boolean(typeof F=="number"&&(z||Number.isInteger(F))||typeof F=="string"&&(L||F.length>0)||te&&F===null)}t.getJsonRpcIdValidator=S;function M(I,L=!1){const z=new Set;function te(D,F){if(D===void 0)return[!1,0];if(D===null)return[!0,F?0:n.JsonSize.Null];const re=typeof D;try{if(re==="function")return[!1,0];if(re==="string"||D instanceof String)return[!0,F?0:(0,n.calculateStringSize)(D)+n.JsonSize.Quote*2];if(re==="boolean"||D instanceof Boolean)return F?[!0,0]:[!0,D==!0?n.JsonSize.True:n.JsonSize.False];if(re==="number"||D instanceof Number)return F?[!0,0]:[!0,(0,n.calculateNumberSize)(D)];if(D instanceof Date)return F?[!0,0]:[!0,isNaN(D.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(D)&&!Array.isArray(D))return[!1,0];if(z.has(D))return[!1,0];z.add(D);try{return[!0,Object.entries(D).reduce((B,[J,N],oe,ye)=>{let[p,b]=te(N,F);if(!p)throw new Error("JSON validation did not pass. Validation process stopped.");if(z.delete(D),F)return 0;const g=Array.isArray(D)?0:J.length+n.JsonSize.Comma+n.JsonSize.Colon*2,w=oe<ye.length-1?n.JsonSize.Comma:0;return B+g+b+w},F?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return te(I,L)}t.validateJsonAndGetSize=M})(wp);var hn={},Tc={exports:{}},dn=1e3,pn=dn*60,bn=pn*60,Ar=bn*24,i_=Ar*7,s_=Ar*365.25,o_=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return a_(t);if(r==="number"&&isFinite(t))return e.long?u_(t):c_(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function a_(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*s_;case"weeks":case"week":case"w":return r*i_;case"days":case"day":case"d":return r*Ar;case"hours":case"hour":case"hrs":case"hr":case"h":return r*bn;case"minutes":case"minute":case"mins":case"min":case"m":return r*pn;case"seconds":case"second":case"secs":case"sec":case"s":return r*dn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function c_(t){var e=Math.abs(t);return e>=Ar?Math.round(t/Ar)+"d":e>=bn?Math.round(t/bn)+"h":e>=pn?Math.round(t/pn)+"m":e>=dn?Math.round(t/dn)+"s":t+"ms"}function u_(t){var e=Math.abs(t);return e>=Ar?Bi(t,e,Ar,"day"):e>=bn?Bi(t,e,bn,"hour"):e>=pn?Bi(t,e,pn,"minute"):e>=dn?Bi(t,e,dn,"second"):t+" ms"}function Bi(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}function l_(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=o_,r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let h=0;for(let f=0;f<l.length;f++)h=(h<<5)-h+l.charCodeAt(f),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(l){let h,f=null,d,y;function E(...R){if(!E.enabled)return;const v=E,_=Number(new Date),S=_-(h||_);v.diff=S,v.prev=h,v.curr=_,h=_,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let M=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(L,z)=>{if(L==="%%")return"%";M++;const te=r.formatters[z];if(typeof te=="function"){const D=R[M];L=te.call(v,D),R.splice(M,1),M--}return L}),r.formatArgs.call(v,R),(v.log||r.log).apply(v,R)}return E.namespace=l,E.useColors=r.useColors(),E.color=r.selectColor(l),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(d!==r.namespaces&&(d=r.namespaces,y=r.enabled(l)),y),set:R=>{f=R}}),typeof r.init=="function"&&r.init(E),E}function n(l,h){const f=r(this.namespace+(typeof h>"u"?":":h)+l);return f.log=this.log,f}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let h;const f=(typeof l=="string"?l:"").split(/[\s,]+/),d=f.length;for(h=0;h<d;h++)!f[h]||(l=f[h].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let h,f;for(h=0,f=r.skips.length;h<f;h++)if(r.skips[h].test(l))return!1;for(h=0,f=r.names.length;h<f;h++)if(r.names[h].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var f_=l_;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,h=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(l++,f==="%c"&&(h=l))}),c.splice(h,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=f_(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Tc,Tc.exports);var h_=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hn,"__esModule",{value:!0});hn.createModuleLogger=hn.createProjectLogger=void 0;const d_=h_(Tc.exports),p_=(0,d_.default)("metamask");function b_(t){return p_.extend(t)}hn.createProjectLogger=b_;function g_(t,e){return t.extend(e)}hn.createModuleLogger=g_;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.hexToBigInt=Tt.hexToNumber=Tt.bigIntToHex=Tt.numberToHex=void 0;const tn=Te,ni=Si,y_=t=>((0,tn.assert)(typeof t=="number","Value must be a number."),(0,tn.assert)(t>=0,"Value must be a non-negative number."),(0,tn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,ni.add0x)(t.toString(16)));Tt.numberToHex=y_;const v_=t=>((0,tn.assert)(typeof t=="bigint","Value must be a bigint."),(0,tn.assert)(t>=0,"Value must be a non-negative bigint."),(0,ni.add0x)(t.toString(16)));Tt.bigIntToHex=v_;const m_=t=>{(0,ni.assertIsHexString)(t);const e=parseInt(t,16);return(0,tn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};Tt.hexToNumber=m_;const w_=t=>((0,ni.assertIsHexString)(t),BigInt((0,ni.add0x)(t)));Tt.hexToBigInt=w_;var _p={};Object.defineProperty(_p,"__esModule",{value:!0});var Sp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Sp);var Ep={},Mr={exports:{}};const __="2.0.0",S_=256,E_=Number.MAX_SAFE_INTEGER||9007199254740991,C_=16,R_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Fs={MAX_LENGTH:S_,MAX_SAFE_COMPONENT_LENGTH:C_,MAX_SAFE_INTEGER:E_,RELEASE_TYPES:R_,SEMVER_SPEC_VERSION:__,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const x_=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ws=x_;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=Fs,n=Ws;e=t.exports={};const i=e.re=[],s=e.src=[],o=e.t={};let a=0;const c=(u,l,h)=>{const f=a++;n(u,f,l),o[u]=f,s[f]=l,i[f]=new RegExp(l,h?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),c("FULL",`^${s[o.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),c("LOOSE",`^${s[o.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),c("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",s[o.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Mr,Mr.exports);const I_=Object.freeze({loose:!0}),A_=Object.freeze({}),M_=t=>t?typeof t!="object"?I_:t:A_;var vu=M_;const mf=/^[0-9]+$/,Cp=(t,e)=>{const r=mf.test(t),n=mf.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},T_=(t,e)=>Cp(e,t);var Rp={compareIdentifiers:Cp,rcompareIdentifiers:T_};const Fi=Ws,{MAX_LENGTH:wf,MAX_SAFE_INTEGER:Wi}=Fs,{re:_f,t:Sf}=Mr.exports,O_=vu,{compareIdentifiers:Wr}=Rp;class pt{constructor(e,r){if(r=O_(r),e instanceof pt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wf)throw new TypeError(`version is longer than ${wf} characters`);Fi("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?_f[Sf.LOOSE]:_f[Sf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Wi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Wi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Fi("SemVer.compare",this.version,this.options,e),!(e instanceof pt)){if(typeof e=="string"&&e===this.version)return 0;e=new pt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof pt||(e=new pt(e,this.options)),Wr(this.major,e.major)||Wr(this.minor,e.minor)||Wr(this.patch,e.patch)}comparePre(e){if(e instanceof pt||(e=new pt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Fi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wr(n,i)}while(++r)}compareBuild(e){e instanceof pt||(e=new pt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Fi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Wr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Wr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var He=pt;const Ef=He,k_=(t,e,r=!1)=>{if(t instanceof Ef)return t;try{return new Ef(t,e)}catch(n){if(!r)return null;throw n}};var Tn=k_;const N_=Tn,L_=(t,e)=>{const r=N_(t,e);return r?r.version:null};var P_=L_;const $_=Tn,j_=(t,e)=>{const r=$_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var D_=j_;const Cf=He,B_=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Cf(t instanceof Cf?t.version:t,r).inc(e,n,i).version}catch{return null}};var F_=B_;const Rf=Tn,W_=(t,e)=>{const r=Rf(t,null,!0),n=Rf(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length,u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":c?"prerelease":a.patch?"patch":a.minor?"minor":"major"};var U_=W_;const V_=He,H_=(t,e)=>new V_(t,e).major;var z_=H_;const q_=He,G_=(t,e)=>new q_(t,e).minor;var J_=G_;const Q_=He,Z_=(t,e)=>new Q_(t,e).patch;var Y_=Z_;const K_=Tn,X_=(t,e)=>{const r=K_(t,e);return r&&r.prerelease.length?r.prerelease:null};var e2=X_;const xf=He,t2=(t,e,r)=>new xf(t,r).compare(new xf(e,r));var mt=t2;const r2=mt,n2=(t,e,r)=>r2(e,t,r);var i2=n2;const s2=mt,o2=(t,e)=>s2(t,e,!0);var a2=o2;const If=He,c2=(t,e,r)=>{const n=new If(t,r),i=new If(e,r);return n.compare(i)||n.compareBuild(i)};var mu=c2;const u2=mu,l2=(t,e)=>t.sort((r,n)=>u2(r,n,e));var f2=l2;const h2=mu,d2=(t,e)=>t.sort((r,n)=>h2(n,r,e));var p2=d2;const b2=mt,g2=(t,e,r)=>b2(t,e,r)>0;var Us=g2;const y2=mt,v2=(t,e,r)=>y2(t,e,r)<0;var wu=v2;const m2=mt,w2=(t,e,r)=>m2(t,e,r)===0;var xp=w2;const _2=mt,S2=(t,e,r)=>_2(t,e,r)!==0;var Ip=S2;const E2=mt,C2=(t,e,r)=>E2(t,e,r)>=0;var _u=C2;const R2=mt,x2=(t,e,r)=>R2(t,e,r)<=0;var Su=x2;const I2=xp,A2=Ip,M2=Us,T2=_u,O2=wu,k2=Su,N2=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return I2(t,r,n);case"!=":return A2(t,r,n);case">":return M2(t,r,n);case">=":return T2(t,r,n);case"<":return O2(t,r,n);case"<=":return k2(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Ap=N2;const L2=He,P2=Tn,{re:Ui,t:Vi}=Mr.exports,$2=(t,e)=>{if(t instanceof L2)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ui[Vi.COERCE]);else{let n;for(;(n=Ui[Vi.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ui[Vi.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ui[Vi.COERCERTL].lastIndex=-1}return r===null?null:P2(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var j2=$2,D2=X;X.Node=Tr;X.create=X;function X(t){var e=this;if(e instanceof X||(e=new X),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}X.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};X.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};X.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};X.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)F2(this,arguments[t]);return this.length};X.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)W2(this,arguments[t]);return this.length};X.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};X.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};X.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};X.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};X.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};X.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};X.prototype.map=function(t,e){e=e||this;for(var r=new X,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};X.prototype.mapReverse=function(t,e){e=e||this;for(var r=new X,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};X.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};X.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};X.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};X.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};X.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new X;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};X.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new X;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};X.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=B2(this,i,r[n]);return s};X.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function B2(t,e,r){var n=e===t.head?new Tr(r,null,e,t):new Tr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function F2(t,e){t.tail=new Tr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function W2(t,e){t.head=new Tr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Tr(t,e,r,n){if(!(this instanceof Tr))return new Tr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{require("./iterator.js")(X)}catch{}const U2=D2,vr=Symbol("max"),Bt=Symbol("length"),Ur=Symbol("lengthCalculator"),Zn=Symbol("allowStale"),Er=Symbol("maxAge"),$t=Symbol("dispose"),Af=Symbol("noDisposeOnSet"),Re=Symbol("lruList"),bt=Symbol("cache"),Mp=Symbol("updateAgeOnGet"),Ja=()=>1;class V2{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[vr]=e.max||1/0;const r=e.length||Ja;if(this[Ur]=typeof r!="function"?Ja:r,this[Zn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Er]=e.maxAge||0,this[$t]=e.dispose,this[Af]=e.noDisposeOnSet||!1,this[Mp]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[vr]=e||1/0,jn(this)}get max(){return this[vr]}set allowStale(e){this[Zn]=!!e}get allowStale(){return this[Zn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Er]=e,jn(this)}get maxAge(){return this[Er]}set lengthCalculator(e){typeof e!="function"&&(e=Ja),e!==this[Ur]&&(this[Ur]=e,this[Bt]=0,this[Re].forEach(r=>{r.length=this[Ur](r.value,r.key),this[Bt]+=r.length})),jn(this)}get lengthCalculator(){return this[Ur]}get length(){return this[Bt]}get itemCount(){return this[Re].length}rforEach(e,r){r=r||this;for(let n=this[Re].tail;n!==null;){const i=n.prev;Mf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Re].head;n!==null;){const i=n.next;Mf(this,e,n,r),n=i}}keys(){return this[Re].toArray().map(e=>e.key)}values(){return this[Re].toArray().map(e=>e.value)}reset(){this[$t]&&this[Re]&&this[Re].length&&this[Re].forEach(e=>this[$t](e.key,e.value)),this[bt]=new Map,this[Re]=new U2,this[Bt]=0}dump(){return this[Re].map(e=>ls(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Re]}set(e,r,n){if(n=n||this[Er],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Ur](r,e);if(this[bt].has(e)){if(s>this[vr])return rn(this,this[bt].get(e)),!1;const c=this[bt].get(e).value;return this[$t]&&(this[Af]||this[$t](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Bt]+=s-c.length,c.length=s,this.get(e),jn(this),!0}const o=new H2(e,r,s,i,n);return o.length>this[vr]?(this[$t]&&this[$t](e,r),!1):(this[Bt]+=o.length,this[Re].unshift(o),this[bt].set(e,this[Re].head),jn(this),!0)}has(e){if(!this[bt].has(e))return!1;const r=this[bt].get(e).value;return!ls(this,r)}get(e){return Qa(this,e,!0)}peek(e){return Qa(this,e,!1)}pop(){const e=this[Re].tail;return e?(rn(this,e),e.value):null}del(e){rn(this,this[bt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[bt].forEach((e,r)=>Qa(this,r,!1))}}const Qa=(t,e,r)=>{const n=t[bt].get(e);if(n){const i=n.value;if(ls(t,i)){if(rn(t,n),!t[Zn])return}else r&&(t[Mp]&&(n.value.now=Date.now()),t[Re].unshiftNode(n));return i.value}},ls=(t,e)=>{if(!e||!e.maxAge&&!t[Er])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Er]&&r>t[Er]},jn=t=>{if(t[Bt]>t[vr])for(let e=t[Re].tail;t[Bt]>t[vr]&&e!==null;){const r=e.prev;rn(t,e),e=r}},rn=(t,e)=>{if(e){const r=e.value;t[$t]&&t[$t](r.key,r.value),t[Bt]-=r.length,t[bt].delete(r.key),t[Re].removeNode(e)}};class H2{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Mf=(t,e,r,n)=>{let i=r.value;ls(t,i)&&(rn(t,r),t[Zn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var z2=V2;class Yn{constructor(e,r){if(r=G2(r),e instanceof Yn)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Yn(e.raw,r);if(e instanceof Oc)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const n=this.set[0];if(this.set=this.set.filter(i=>!Of(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(const i of this.set)if(i.length===1&&eS(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const n=((this.options.includePrerelease&&K2)|(this.options.loose&&X2))+":"+e,i=Tf.get(n);if(i)return i;const s=this.options.loose,o=s?ze[Fe.HYPHENRANGELOOSE]:ze[Fe.HYPHENRANGE];e=e.replace(o,lS(this.options.includePrerelease)),ce("hyphen replace",e),e=e.replace(ze[Fe.COMPARATORTRIM],Q2),ce("comparator trim",e),e=e.replace(ze[Fe.TILDETRIM],Z2),e=e.replace(ze[Fe.CARETTRIM],Y2),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(h=>tS(h,this.options)).join(" ").split(/\s+/).map(h=>uS(h,this.options));s&&(a=a.filter(h=>(ce("loose invalid filter",h,this.options),!!h.match(ze[Fe.COMPARATORLOOSE])))),ce("range list",a);const c=new Map,u=a.map(h=>new Oc(h,this.options));for(const h of u){if(Of(h))return[h];c.set(h.value,h)}c.size>1&&c.has("")&&c.delete("");const l=[...c.values()];return Tf.set(n,l),l}intersects(e,r){if(!(e instanceof Yn))throw new TypeError("a Range is required");return this.set.some(n=>kf(n,r)&&e.set.some(i=>kf(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new J2(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(fS(this.set[r],e,this.options))return!0;return!1}}var wt=Yn;const q2=z2,Tf=new q2({max:1e3}),G2=vu,Oc=Vs,ce=Ws,J2=He,{re:ze,t:Fe,comparatorTrimReplace:Q2,tildeTrimReplace:Z2,caretTrimReplace:Y2}=Mr.exports,{FLAG_INCLUDE_PRERELEASE:K2,FLAG_LOOSE:X2}=Fs,Of=t=>t.value==="<0.0.0-0",eS=t=>t.value==="",kf=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},tS=(t,e)=>(ce("comp",t,e),t=iS(t,e),ce("caret",t),t=rS(t,e),ce("tildes",t),t=oS(t,e),ce("xrange",t),t=cS(t,e),ce("stars",t),t),We=t=>!t||t.toLowerCase()==="x"||t==="*",rS=(t,e)=>t.trim().split(/\s+/).map(r=>nS(r,e)).join(" "),nS=(t,e)=>{const r=e.loose?ze[Fe.TILDELOOSE]:ze[Fe.TILDE];return t.replace(r,(n,i,s,o,a)=>{ce("tilde",t,n,i,s,o,a);let c;return We(i)?c="":We(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:We(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(ce("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,ce("tilde return",c),c})},iS=(t,e)=>t.trim().split(/\s+/).map(r=>sS(r,e)).join(" "),sS=(t,e)=>{ce("caret",t,e);const r=e.loose?ze[Fe.CARETLOOSE]:ze[Fe.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,c)=>{ce("caret",t,i,s,o,a,c);let u;return We(s)?u="":We(o)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:We(a)?s==="0"?u=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:c?(ce("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(ce("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),ce("caret return",u),u})},oS=(t,e)=>(ce("replaceXRanges",t,e),t.split(/\s+/).map(r=>aS(r,e)).join(" ")),aS=(t,e)=>{t=t.trim();const r=e.loose?ze[Fe.XRANGELOOSE]:ze[Fe.XRANGE];return t.replace(r,(n,i,s,o,a,c)=>{ce("xRange",t,n,i,s,o,a,c);const u=We(s),l=u||We(o),h=l||We(a),f=h;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(c="-0"),n=`${i+s}.${o}.${a}${c}`):l?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:h&&(n=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),ce("xRange return",n),n})},cS=(t,e)=>(ce("replaceStars",t,e),t.trim().replace(ze[Fe.STAR],"")),uS=(t,e)=>(ce("replaceGTE0",t,e),t.trim().replace(ze[e.includePrerelease?Fe.GTE0PRE:Fe.GTE0],"")),lS=t=>(e,r,n,i,s,o,a,c,u,l,h,f,d)=>(We(n)?r="":We(i)?r=`>=${n}.0.0${t?"-0":""}`:We(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,We(u)?c="":We(l)?c=`<${+u+1}.0.0-0`:We(h)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${h}-${f}`:t?c=`<${u}.${l}.${+h+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),fS=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(ce(t[n].semver),t[n].semver!==Oc.ANY&&t[n].semver.prerelease.length>0){const i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},Dn=Symbol("SemVer ANY");class fs{static get ANY(){return Dn}constructor(e,r){if(r=Nf(r),e instanceof fs){if(e.loose===!!r.loose)return e;e=e.value}Ya("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Dn?this.value="":this.value=this.operator+this.semver.version,Ya("comp",this)}parse(e){const r=this.options.loose?Lf[Pf.COMPARATORLOOSE]:Lf[Pf.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new $f(n[2],this.options.loose):this.semver=Dn}toString(){return this.value}test(e){if(Ya("Comparator.test",e,this.options.loose),this.semver===Dn||e===Dn)return!0;if(typeof e=="string")try{e=new $f(e,this.options)}catch{return!1}return Za(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof fs))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new jf(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new jf(this.value,r).test(e.semver):(r=Nf(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Za(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Za(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}var Vs=fs;const Nf=vu,{re:Lf,t:Pf}=Mr.exports,Za=Ap,Ya=Ws,$f=He,jf=wt,hS=wt,dS=(t,e,r)=>{try{e=new hS(e,r)}catch{return!1}return e.test(t)};var Hs=dS;const pS=wt,bS=(t,e)=>new pS(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var gS=bS;const yS=He,vS=wt,mS=(t,e,r)=>{let n=null,i=null,s=null;try{s=new vS(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new yS(n,r))}),n};var wS=mS;const _S=He,SS=wt,ES=(t,e,r)=>{let n=null,i=null,s=null;try{s=new SS(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new _S(n,r))}),n};var CS=ES;const Ka=He,RS=wt,Df=Us,xS=(t,e)=>{t=new RS(t,e);let r=new Ka("0.0.0");if(t.test(r)||(r=new Ka("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Ka(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Df(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Df(r,s))&&(r=s)}return r&&t.test(r)?r:null};var IS=xS;const AS=wt,MS=(t,e)=>{try{return new AS(t,e).range||"*"}catch{return null}};var TS=MS;const OS=He,Tp=Vs,{ANY:kS}=Tp,NS=wt,LS=Hs,Bf=Us,Ff=wu,PS=Su,$S=_u,jS=(t,e,r,n)=>{t=new OS(t,n),e=new NS(e,n);let i,s,o,a,c;switch(r){case">":i=Bf,s=PS,o=Ff,a=">",c=">=";break;case"<":i=Ff,s=$S,o=Bf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(LS(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let h=null,f=null;if(l.forEach(d=>{d.semver===kS&&(d=new Tp(">=0.0.0")),h=h||d,f=f||d,i(d.semver,h.semver,n)?h=d:o(d.semver,f.semver,n)&&(f=d)}),h.operator===a||h.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var Eu=jS;const DS=Eu,BS=(t,e,r)=>DS(t,e,">",r);var FS=BS;const WS=Eu,US=(t,e,r)=>WS(t,e,"<",r);var VS=US;const Wf=wt,HS=(t,e,r)=>(t=new Wf(t,r),e=new Wf(e,r),t.intersects(e,r));var zS=HS;const qS=Hs,GS=mt;var JS=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,h)=>GS(l,h,r));for(const l of o)qS(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,h]of n)l===h?a.push(l):!h&&l===o[0]?a.push("*"):h?l===o[0]?a.push(`<=${h}`):a.push(`${l} - ${h}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const Uf=wt,Cu=Vs,{ANY:Xa}=Cu,Bn=Hs,Ru=mt,QS=(t,e,r={})=>{if(t===e)return!0;t=new Uf(t,r),e=new Uf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=YS(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ZS=[new Cu(">=0.0.0-0")],Vf=[new Cu(">=0.0.0")],YS=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Xa){if(e.length===1&&e[0].semver===Xa)return!0;r.includePrerelease?t=ZS:t=Vf}if(e.length===1&&e[0].semver===Xa){if(r.includePrerelease)return!0;e=Vf}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Hf(i,d,r):d.operator==="<"||d.operator==="<="?s=zf(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Ru(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!Bn(d,String(i),r)||s&&!Bn(d,String(s),r))return null;for(const y of e)if(!Bn(d,String(y),r))return!1;return!0}let a,c,u,l,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const d of e){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=Hf(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!Bn(i.semver,String(d),r))return!1}if(s){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator==="<"||d.operator==="<="){if(c=zf(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!Bn(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||f||h)},Hf=(t,e,r)=>{if(!t)return e;const n=Ru(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},zf=(t,e,r)=>{if(!t)return e;const n=Ru(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var KS=QS;const ec=Mr.exports,qf=Fs,XS=He,Gf=Rp,eE=Tn,tE=P_,rE=D_,nE=F_,iE=U_,sE=z_,oE=J_,aE=Y_,cE=e2,uE=mt,lE=i2,fE=a2,hE=mu,dE=f2,pE=p2,bE=Us,gE=wu,yE=xp,vE=Ip,mE=_u,wE=Su,_E=Ap,SE=j2,EE=Vs,CE=wt,RE=Hs,xE=gS,IE=wS,AE=CS,ME=IS,TE=TS,OE=Eu,kE=FS,NE=VS,LE=zS,PE=JS,$E=KS;var jE={parse:eE,valid:tE,clean:rE,inc:nE,diff:iE,major:sE,minor:oE,patch:aE,prerelease:cE,compare:uE,rcompare:lE,compareLoose:fE,compareBuild:hE,sort:dE,rsort:pE,gt:bE,lt:gE,eq:yE,neq:vE,gte:mE,lte:wE,cmp:_E,coerce:SE,Comparator:EE,Range:CE,satisfies:RE,toComparators:xE,maxSatisfying:IE,minSatisfying:AE,minVersion:ME,validRange:TE,outside:OE,gtr:kE,ltr:NE,intersects:LE,simplifyRange:PE,subset:$E,SemVer:XS,re:ec.re,src:ec.src,tokens:ec.t,SEMVER_SPEC_VERSION:qf.SEMVER_SPEC_VERSION,RELEASE_TYPES:qf.RELEASE_TYPES,compareIdentifiers:Gf.compareIdentifiers,rcompareIdentifiers:Gf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=jE,r=Dr,n=Te;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,e.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,e.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function i(h){return(0,r.is)(h,t.VersionStruct)}t.isValidSemVerVersion=i;function s(h){return(0,r.is)(h,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(h){(0,n.assertStruct)(h,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(h,f){return(0,e.gt)(h,f)}t.gtVersion=c;function u(h,f){return(0,e.gtr)(h,f)}t.gtRange=u;function l(h,f){return(0,e.satisfies)(h,f,{includePrerelease:!0})}t.satisfiesVersionRange=l})(Ep);(function(t){var e=A&&A.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=A&&A.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Te,t),r(_i,t),r(Y,t),r(Ds,t),r(Mt,t),r(fn,t),r(Si,t),r(wp,t),r(hn,t),r(yu,t),r(Tt,t),r(_p,t),r(Sp,t),r(Ep,t)})(tp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=tp;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(ep);var Op=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($s,"__esModule",{value:!0});$s.PollingBlockTracker=void 0;const DE=Op(au),BE=Op(D1),FE=mi,Jf=ep,Qf=(0,Jf.createModuleLogger)(Jf.projectLogger,"polling-block-tracker"),WE=(0,DE.default)(),UE=1e3;class VE extends FE.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*UE,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Zf(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Zf(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:WE(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Qf("Making request",e);const r=await(0,BE.default)(n=>this._provider.sendAsync(e,n))();if(Qf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}$s.PollingBlockTracker=VE;function Zf(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var zs={},HE=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});zs.SubscribeBlockTracker=void 0;const zE=HE(au),qE=mi,GE=(0,zE.default)();class JE extends qE.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:GE(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}zs.SubscribeBlockTracker=JE;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});(function(t){var e=A&&A.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=A&&A.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($s,t),r(zs,t),r(kp,t)})(Xd);var xu={},qs={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.getUniqueId=void 0;const Np=4294967295;let tc=Math.floor(Math.random()*Np);function QE(){return tc=(tc+1)%Np,tc}Ei.getUniqueId=QE;Object.defineProperty(qs,"__esModule",{value:!0});qs.createIdRemapMiddleware=void 0;const ZE=Ei;function YE(){return(t,e,r,n)=>{const i=t.id,s=ZE.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}qs.createIdRemapMiddleware=YE;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.createAsyncMiddleware=void 0;function KE(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Gs.createAsyncMiddleware=KE;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.createScaffoldMiddleware=void 0;function XE(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Js.createScaffoldMiddleware=XE;var Ci={},Lp={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.EthereumProviderError=ir.EthereumRpcError=void 0;const e3=kh;class Pp extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return e3.default(this.serialize(),n3,2)}}ir.EthereumRpcError=Pp;class t3 extends Pp{constructor(e,r,n){if(!r3(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}ir.EthereumProviderError=t3;function r3(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function n3(t,e){if(e!=="[Circular]")return e}var Iu={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.errorValues=sr.errorCodes=void 0;sr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};sr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=sr,r=ir,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const y=f.toString();if(h(e.errorValues,y))return e.errorValues[y].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||u(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:y=!1}={}){var E,R;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const v={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const S=f;v.code=S.code,S.message&&typeof S.message=="string"?(v.message=S.message,h(S,"data")&&(v.data=S.data)):(v.message=o(v.code),v.data={originalError:l(f)})}else{v.code=d.code;const S=(E=f)===null||E===void 0?void 0:E.message;v.message=S&&typeof S=="string"?S:d.message,v.data={originalError:l(f)}}const _=(R=f)===null||R===void 0?void 0:R.stack;return y&&f&&_&&typeof _=="string"&&(v.stack=_),v}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(Iu);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.ethErrors=void 0;const Au=ir,$p=Iu,ke=sr;Qs.ethErrors={rpc:{parse:t=>et(ke.errorCodes.rpc.parse,t),invalidRequest:t=>et(ke.errorCodes.rpc.invalidRequest,t),invalidParams:t=>et(ke.errorCodes.rpc.invalidParams,t),methodNotFound:t=>et(ke.errorCodes.rpc.methodNotFound,t),internal:t=>et(ke.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return et(e,t)},invalidInput:t=>et(ke.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>et(ke.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>et(ke.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>et(ke.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>et(ke.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>et(ke.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Fn(ke.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Fn(ke.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Fn(ke.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Fn(ke.errorCodes.provider.disconnected,t),chainDisconnected:t=>Fn(ke.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Au.EthereumProviderError(e,r,n)}}};function et(t,e){const[r,n]=jp(e);return new Au.EthereumRpcError(t,r||$p.getMessageFromCode(t),n)}function Fn(t,e){const[r,n]=jp(e);return new Au.EthereumProviderError(t,r||$p.getMessageFromCode(t),n)}function jp(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=ir;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Iu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Qs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=sr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Lp);var i3=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.JsonRpcEngine=void 0;const s3=i3(Lr),tt=Lp;class jt extends s3.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await jt._runAllMiddleware(e,r,this._middleware);return o?(await jt._runReturnHandlers(a),i(s)):n(async c=>{try{await jt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new tt.EthereumRpcError(tt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new tt.EthereumRpcError(tt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=tt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await jt._runAllMiddleware(e,r,this._middleware);if(jt._checkForCompletion(e,r,i),await jt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await jt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=tt.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${rc(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${rc(e)}`,{request:e});if(!n)throw new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${rc(e)}`,{request:e})}}Ci.JsonRpcEngine=jt;function rc(t){return JSON.stringify(t,null,2)}var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.mergeMiddleware=void 0;const o3=Ci;function a3(t){const e=new o3.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Zs.mergeMiddleware=a3;(function(t){var e=A&&A.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=A&&A.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qs,t),r(Gs,t),r(Js,t),r(Ei,t),r(Ci,t),r(Zs,t)})(xu);var Dp={},Mu={},Ys={exports:{}};(function(t){var e,r,n,i,s,o,a,c,u,l,h,f,d,y,E,R,v,_,S,M,I,L,z,te,D,F,re,B,J;(function(N){var oe=typeof A=="object"?A:typeof self=="object"?self:typeof this=="object"?this:{};N(ye(oe,ye(t.exports)));function ye(p,b){return p!==oe&&(typeof Object.create=="function"?Object.defineProperty(p,"__esModule",{value:!0}):p.__esModule=!0),function(g,w){return p[g]=b?b(g,w):w}}})(function(N){var oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(p[g]=b[g])};e=function(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");oe(p,b);function g(){this.constructor=p}p.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)},r=Object.assign||function(p){for(var b,g=1,w=arguments.length;g<w;g++){b=arguments[g];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(p[x]=b[x])}return p},n=function(p,b){var g={};for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&b.indexOf(w)<0&&(g[w]=p[w]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,w=Object.getOwnPropertySymbols(p);x<w.length;x++)b.indexOf(w[x])<0&&Object.prototype.propertyIsEnumerable.call(p,w[x])&&(g[w[x]]=p[w[x]]);return g},i=function(p,b,g,w){var x=arguments.length,C=x<3?b:w===null?w=Object.getOwnPropertyDescriptor(b,g):w,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(p,b,g,w);else for(var Q=p.length-1;Q>=0;Q--)(P=p[Q])&&(C=(x<3?P(C):x>3?P(b,g,C):P(b,g))||C);return x>3&&C&&Object.defineProperty(b,g,C),C},s=function(p,b){return function(g,w){b(g,w,p)}},o=function(p,b,g,w,x,C){function P(Ht){if(Ht!==void 0&&typeof Ht!="function")throw new TypeError("Function expected");return Ht}for(var Q=w.kind,_e=Q==="getter"?"get":Q==="setter"?"set":"value",T=!b&&p?w.static?p:p.prototype:null,Z=b||(T?Object.getOwnPropertyDescriptor(T,w.name):{}),fe,ne=!1,Ge=g.length-1;Ge>=0;Ge--){var ut={};for(var lt in w)ut[lt]=lt==="access"?{}:w[lt];for(var lt in w.access)ut.access[lt]=w.access[lt];ut.addInitializer=function(Ht){if(ne)throw new TypeError("Cannot add initializers after decoration has completed");C.push(P(Ht||null))};var _t=(0,g[Ge])(Q==="accessor"?{get:Z.get,set:Z.set}:Z[_e],ut);if(Q==="accessor"){if(_t===void 0)continue;if(_t===null||typeof _t!="object")throw new TypeError("Object expected");(fe=P(_t.get))&&(Z.get=fe),(fe=P(_t.set))&&(Z.set=fe),(fe=P(_t.init))&&x.unshift(fe)}else(fe=P(_t))&&(Q==="field"?x.unshift(fe):Z[_e]=fe)}T&&Object.defineProperty(T,w.name,Z),ne=!0},a=function(p,b,g){for(var w=arguments.length>2,x=0;x<b.length;x++)g=w?b[x].call(p,g):b[x].call(p);return w?g:void 0},c=function(p){return typeof p=="symbol"?p:"".concat(p)},u=function(p,b,g){return typeof b=="symbol"&&(b=b.description?"[".concat(b.description,"]"):""),Object.defineProperty(p,"name",{configurable:!0,value:g?"".concat(g," ",b):b})},l=function(p,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,b)},h=function(p,b,g,w){function x(C){return C instanceof g?C:new g(function(P){P(C)})}return new(g||(g=Promise))(function(C,P){function Q(Z){try{T(w.next(Z))}catch(fe){P(fe)}}function _e(Z){try{T(w.throw(Z))}catch(fe){P(fe)}}function T(Z){Z.done?C(Z.value):x(Z.value).then(Q,_e)}T((w=w.apply(p,b||[])).next())})},f=function(p,b){var g={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},w,x,C,P;return P={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function Q(T){return function(Z){return _e([T,Z])}}function _e(T){if(w)throw new TypeError("Generator is already executing.");for(;P&&(P=0,T[0]&&(g=0)),g;)try{if(w=1,x&&(C=T[0]&2?x.return:T[0]?x.throw||((C=x.return)&&C.call(x),0):x.next)&&!(C=C.call(x,T[1])).done)return C;switch(x=0,C&&(T=[T[0]&2,C.value]),T[0]){case 0:case 1:C=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,x=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(C=g.trys,!(C=C.length>0&&C[C.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!C||T[1]>C[0]&&T[1]<C[3])){g.label=T[1];break}if(T[0]===6&&g.label<C[1]){g.label=C[1],C=T;break}if(C&&g.label<C[2]){g.label=C[2],g.ops.push(T);break}C[2]&&g.ops.pop(),g.trys.pop();continue}T=b.call(p,g)}catch(Z){T=[6,Z],x=0}finally{w=C=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},d=function(p,b){for(var g in p)g!=="default"&&!Object.prototype.hasOwnProperty.call(b,g)&&J(b,p,g)},J=Object.create?function(p,b,g,w){w===void 0&&(w=g);var x=Object.getOwnPropertyDescriptor(b,g);(!x||("get"in x?!b.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return b[g]}}),Object.defineProperty(p,w,x)}:function(p,b,g,w){w===void 0&&(w=g),p[w]=b[g]},y=function(p){var b=typeof Symbol=="function"&&Symbol.iterator,g=b&&p[b],w=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&w>=p.length&&(p=void 0),{value:p&&p[w++],done:!p}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(p,b){var g=typeof Symbol=="function"&&p[Symbol.iterator];if(!g)return p;var w=g.call(p),x,C=[],P;try{for(;(b===void 0||b-- >0)&&!(x=w.next()).done;)C.push(x.value)}catch(Q){P={error:Q}}finally{try{x&&!x.done&&(g=w.return)&&g.call(w)}finally{if(P)throw P.error}}return C},R=function(){for(var p=[],b=0;b<arguments.length;b++)p=p.concat(E(arguments[b]));return p},v=function(){for(var p=0,b=0,g=arguments.length;b<g;b++)p+=arguments[b].length;for(var w=Array(p),x=0,b=0;b<g;b++)for(var C=arguments[b],P=0,Q=C.length;P<Q;P++,x++)w[x]=C[P];return w},_=function(p,b,g){if(g||arguments.length===2)for(var w=0,x=b.length,C;w<x;w++)(C||!(w in b))&&(C||(C=Array.prototype.slice.call(b,0,w)),C[w]=b[w]);return p.concat(C||Array.prototype.slice.call(b))},S=function(p){return this instanceof S?(this.v=p,this):new S(p)},M=function(p,b,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w=g.apply(p,b||[]),x,C=[];return x={},P("next"),P("throw"),P("return"),x[Symbol.asyncIterator]=function(){return this},x;function P(ne){w[ne]&&(x[ne]=function(Ge){return new Promise(function(ut,lt){C.push([ne,Ge,ut,lt])>1||Q(ne,Ge)})})}function Q(ne,Ge){try{_e(w[ne](Ge))}catch(ut){fe(C[0][3],ut)}}function _e(ne){ne.value instanceof S?Promise.resolve(ne.value.v).then(T,Z):fe(C[0][2],ne)}function T(ne){Q("next",ne)}function Z(ne){Q("throw",ne)}function fe(ne,Ge){ne(Ge),C.shift(),C.length&&Q(C[0][0],C[0][1])}},I=function(p){var b,g;return b={},w("next"),w("throw",function(x){throw x}),w("return"),b[Symbol.iterator]=function(){return this},b;function w(x,C){b[x]=p[x]?function(P){return(g=!g)?{value:S(p[x](P)),done:!1}:C?C(P):P}:C}},L=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=p[Symbol.asyncIterator],g;return b?b.call(p):(p=typeof y=="function"?y(p):p[Symbol.iterator](),g={},w("next"),w("throw"),w("return"),g[Symbol.asyncIterator]=function(){return this},g);function w(C){g[C]=p[C]&&function(P){return new Promise(function(Q,_e){P=p[C](P),x(Q,_e,P.done,P.value)})}}function x(C,P,Q,_e){Promise.resolve(_e).then(function(T){C({value:T,done:Q})},P)}},z=function(p,b){return Object.defineProperty?Object.defineProperty(p,"raw",{value:b}):p.raw=b,p};var ye=Object.create?function(p,b){Object.defineProperty(p,"default",{enumerable:!0,value:b})}:function(p,b){p.default=b};te=function(p){if(p&&p.__esModule)return p;var b={};if(p!=null)for(var g in p)g!=="default"&&Object.prototype.hasOwnProperty.call(p,g)&&J(b,p,g);return ye(b,p),b},D=function(p){return p&&p.__esModule?p:{default:p}},F=function(p,b,g,w){if(g==="a"&&!w)throw new TypeError("Private accessor was defined without a getter");if(typeof b=="function"?p!==b||!w:!b.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?w:g==="a"?w.call(p):w?w.value:b.get(p)},re=function(p,b,g,w,x){if(w==="m")throw new TypeError("Private method is not writable");if(w==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof b=="function"?p!==b||!x:!b.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return w==="a"?x.call(p,g):x?x.value=g:b.set(p,g),g},B=function(p,b){if(b===null||typeof b!="object"&&typeof b!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof p=="function"?b===p:p.has(b)},N("__extends",e),N("__assign",r),N("__rest",n),N("__decorate",i),N("__param",s),N("__esDecorate",o),N("__runInitializers",a),N("__propKey",c),N("__setFunctionName",u),N("__metadata",l),N("__awaiter",h),N("__generator",f),N("__exportStar",d),N("__createBinding",J),N("__values",y),N("__read",E),N("__spread",R),N("__spreadArrays",v),N("__spreadArray",_),N("__await",S),N("__asyncGenerator",M),N("__asyncDelegator",I),N("__asyncValues",L),N("__makeTemplateObject",z),N("__importStar",te),N("__importDefault",D),N("__classPrivateFieldGet",F),N("__classPrivateFieldSet",re),N("__classPrivateFieldIn",B)})})(Ys);var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});var Yf=Ys.exports,c3=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Yf.__awaiter(this,void 0,void 0,function(){var r,n,i;return Yf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ks.default=c3;Object.defineProperty(Mu,"__esModule",{value:!0});var Kf=Ys.exports,u3=Ks,l3=function(){function t(){this._semaphore=new u3.default(1)}return t.prototype.acquire=function(){return Kf.__awaiter(this,void 0,void 0,function(){var e,r;return Kf.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Mu.default=l3;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.withTimeout=void 0;var Hi=Ys.exports;function f3(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Hi.__awaiter(n,void 0,void 0,function(){var o,a,c;return Hi.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Hi.__awaiter(this,void 0,void 0,function(){var s,o;return Hi.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Xs.withTimeout=f3;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Mu;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ks;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Xs;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Dp);var h3=p3,d3=Object.prototype.hasOwnProperty;function p3(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)d3.call(r,n)&&(t[n]=r[n])}return t}const b3=h3,g3=au();var y3=j;function j(t){const e=this;e.currentProvider=t}j.prototype.getBalance=Ri(2,"eth_getBalance");j.prototype.getCode=Ri(2,"eth_getCode");j.prototype.getTransactionCount=Ri(2,"eth_getTransactionCount");j.prototype.getStorageAt=Ri(3,"eth_getStorageAt");j.prototype.call=Ri(2,"eth_call");j.prototype.protocolVersion=H("eth_protocolVersion");j.prototype.syncing=H("eth_syncing");j.prototype.coinbase=H("eth_coinbase");j.prototype.mining=H("eth_mining");j.prototype.hashrate=H("eth_hashrate");j.prototype.gasPrice=H("eth_gasPrice");j.prototype.accounts=H("eth_accounts");j.prototype.blockNumber=H("eth_blockNumber");j.prototype.getBlockTransactionCountByHash=H("eth_getBlockTransactionCountByHash");j.prototype.getBlockTransactionCountByNumber=H("eth_getBlockTransactionCountByNumber");j.prototype.getUncleCountByBlockHash=H("eth_getUncleCountByBlockHash");j.prototype.getUncleCountByBlockNumber=H("eth_getUncleCountByBlockNumber");j.prototype.sign=H("eth_sign");j.prototype.sendTransaction=H("eth_sendTransaction");j.prototype.sendRawTransaction=H("eth_sendRawTransaction");j.prototype.estimateGas=H("eth_estimateGas");j.prototype.getBlockByHash=H("eth_getBlockByHash");j.prototype.getBlockByNumber=H("eth_getBlockByNumber");j.prototype.getTransactionByHash=H("eth_getTransactionByHash");j.prototype.getTransactionByBlockHashAndIndex=H("eth_getTransactionByBlockHashAndIndex");j.prototype.getTransactionByBlockNumberAndIndex=H("eth_getTransactionByBlockNumberAndIndex");j.prototype.getTransactionReceipt=H("eth_getTransactionReceipt");j.prototype.getUncleByBlockHashAndIndex=H("eth_getUncleByBlockHashAndIndex");j.prototype.getUncleByBlockNumberAndIndex=H("eth_getUncleByBlockNumberAndIndex");j.prototype.getCompilers=H("eth_getCompilers");j.prototype.compileLLL=H("eth_compileLLL");j.prototype.compileSolidity=H("eth_compileSolidity");j.prototype.compileSerpent=H("eth_compileSerpent");j.prototype.newFilter=H("eth_newFilter");j.prototype.newBlockFilter=H("eth_newBlockFilter");j.prototype.newPendingTransactionFilter=H("eth_newPendingTransactionFilter");j.prototype.uninstallFilter=H("eth_uninstallFilter");j.prototype.getFilterChanges=H("eth_getFilterChanges");j.prototype.getFilterLogs=H("eth_getFilterLogs");j.prototype.getLogs=H("eth_getLogs");j.prototype.getWork=H("eth_getWork");j.prototype.submitWork=H("eth_submitWork");j.prototype.submitHashrate=H("eth_submitHashrate");j.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(v3(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function H(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ri(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function v3(t){return b3({id:g3(),jsonrpc:"2.0",params:[]},t)}const Xf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},eh=new WeakMap;var m3=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=eh.get(o);if(c||(c={},eh.set(o,c)),a in c)return c[a];const u=y=>typeof y=="string"||typeof a=="symbol"?a===y:y.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),h=l===void 0||l.writable||l.configurable,d=(e.include?e.include.some(u):!e.exclude.some(u))&&h;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Xf(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Xf(c,e,s,o);return i.set(c,l),l}return c}});return s};const w3=Lr.default;class _3 extends w3{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Tu=_3;const S3=Tu;class E3 extends S3{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var C3=E3,xi={minBlockRef:R3,maxBlockRef:x3,sortBlockRefs:Ou,bnToHex:I3,blockRefIsNumber:A3,hexToInt:hs,incrementHexInt:M3,intToHex:Bp,unsafeRandomBytes:T3};function R3(...t){return Ou(t)[0]}function x3(...t){const e=Ou(t);return e[e.length-1]}function Ou(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:hs(e)-hs(r))}function I3(t){return"0x"+t.toString(16)}function A3(t){return t&&!["earliest","latest","pending"].includes(t)}function hs(t){return t==null?t:Number.parseInt(t,16)}function M3(t){if(t==null)return t;const e=hs(t);return Bp(e+1)}function Bp(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function T3(t){let e="0x";for(let r=0;r<t;r++)e+=th(),e+=th();return e}function th(){return Math.floor(Math.random()*16).toString(16)}const O3=y3,k3=m3,N3=C3,{bnToHex:t8,hexToInt:zi,incrementHexInt:L3,minBlockRef:P3,blockRefIsNumber:$3}=xi;class j3 extends N3{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new O3(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=P3(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=L3(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await k3(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(zi(this.params.fromBlock)>=zi(e.blockNumber)||$3(this.params.toBlock)&&zi(this.params.toBlock)<=zi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var D3=j3,ku=B3;async function B3({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=rh(e),s=rh(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(F3);return await Promise.all(o.map(c=>U3(t,"eth_getBlockByNumber",[c,!1])))}function rh(t){return t==null?t:Number.parseInt(t,16)}function F3(t){if(t==null)return t;const e=t.toString(16);return"0x"+e}function W3(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function U3(t,e,r){for(let n=0;n<3;n++)try{return await W3(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const V3=Tu,H3=ku,{incrementHexInt:z3}=xi;class q3 extends V3{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=z3(e),o=(await H3({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var G3=q3;const J3=Tu,Q3=ku,{incrementHexInt:Z3}=xi;class Y3 extends J3{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Z3(e),i=await Q3({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var K3=Y3;const X3=Dp.Mutex,{createAsyncMiddleware:e4,createScaffoldMiddleware:t4}=xu,r4=D3,n4=G3,i4=K3,{intToHex:Fp,hexToInt:nc}=xi;var s4=o4;function o4({blockTracker:t,provider:e}){let r=0,n={};const i=new X3,s=a4({mutex:i}),o=t4({eth_newFilter:s(ic(c)),eth_newBlockFilter:s(ic(u)),eth_newPendingTransactionFilter:s(ic(l)),eth_uninstallFilter:s(es(d)),eth_getFilterChanges:s(es(h)),eth_getFilterLogs:s(es(f))}),a=async({oldBlock:_,newBlock:S})=>{if(n.length===0)return;const M=await i.acquire();try{await Promise.all(Vr(n).map(async I=>{try{await I.update({oldBlock:_,newBlock:S})}catch(L){console.error(L)}}))}catch(I){console.error(I)}M()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=d,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{R()},o;async function c(_){const S=new r4({provider:e,params:_});return await y(S),S}async function u(){const _=new n4({provider:e});return await y(_),_}async function l(){const _=new i4({provider:e});return await y(_),_}async function h(_){const S=nc(_),M=n[S];if(!M)throw new Error(`No filter for index "${S}"`);return M.getChangesAndClear()}async function f(_){const S=nc(_),M=n[S];if(!M)throw new Error(`No filter for index "${S}"`);let I=[];return M.type==="log"&&(I=M.getAllResults()),I}async function d(_){const S=nc(_),M=n[S],I=Boolean(M);return I&&await E(S),I}async function y(_){const S=Vr(n).length,M=await t.getLatestBlock();await _.initialize({currentBlock:M}),r++,n[r]=_,_.id=r,_.idHex=Fp(r);const I=Vr(n).length;return v({prevFilterCount:S,newFilterCount:I}),r}async function E(_){const S=Vr(n).length;delete n[_];const M=Vr(n).length;v({prevFilterCount:S,newFilterCount:M})}async function R(){const _=Vr(n).length;n={},v({prevFilterCount:_,newFilterCount:0})}function v({prevFilterCount:_,newFilterCount:S}){if(_===0&&S>0){t.on("sync",a);return}if(_>0&&S===0){t.removeListener("sync",a);return}}}function ic(t){return es(async(...e)=>{const r=await t(...e);return Fp(r.id)})}function es(t){return e4(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function a4({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Vr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const c4=Lr.default,{createAsyncMiddleware:nh,createScaffoldMiddleware:u4}=xu,l4=s4,{unsafeRandomBytes:f4,incrementHexInt:h4}=xi,d4=ku;var p4=b4;function b4({blockTracker:t,provider:e}){const r={},n=l4({blockTracker:t,provider:e});let i=!1;const s=new c4,o=u4({eth_subscribe:nh(a),eth_unsubscribe:nh(c)});return o.destroy=l,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],y=f4(16);let E;switch(d){case"newHeads":E=R({subId:y});break;case"logs":const _=h.params[1],S=await n.newLogFilter(_);E=v({subId:y,filter:S});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[y]=E,f.result=y;return;function R({subId:_}){const S={type:d,destroy:async()=>{t.removeListener("sync",S.update)},update:async({oldBlock:M,newBlock:I})=>{const L=I,z=h4(M);(await d4({provider:e,fromBlock:z,toBlock:L})).map(g4).filter(F=>F!==null).forEach(F=>{u(_,F)})}};return t.on("sync",S.update),S}function v({subId:_,filter:S}){return S.on("update",I=>u(_,I)),{type:d,destroy:async()=>await n.uninstallFilter(S.idHex)}}}async function c(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],y=r[d];if(!y){f.result=!1;return}delete r[d],await y.destroy(),f.result=!0}function u(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function l(){s.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];i=!0}}function g4(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ps,"__esModule",{value:!0});Ps.SubscriptionManager=void 0;const y4=Xd,v4=p4,ih=()=>{};class m4{constructor(e){const r=new y4.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=v4({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,ih,ih),r}destroy(){this.subscriptionMiddleware.destroy()}}Ps.SubscriptionManager=m4;var Nu=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.CoinbaseWalletProvider=void 0;const w4=Nu(Lr),_4=Nu(ms.exports),Ne=Ss,sc=Sn,sh=En,oh=yt,W=O,oc=Nu(N1),S4=ln,ee=Kd,E4=Ps,ah="DefaultChainId",ch="DefaultJsonRpcUrl";class C4 extends w4.default{constructor(e){var r,n;super(),this._filterPolyfill=new S4.FilterPolyfill(this),this._subscriptionManager=new E4.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,W.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(oh.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,W.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,W.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(ch))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(ch,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(ah,r.toString(10)),((0,W.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,W.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const h=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Ne.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(sc.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?sh.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(ee.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ne.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Ne.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Ne.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,W.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,W.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(oh.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ee.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ee.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ee.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ee.JSONRPCMethod.net_version:return this._net_version();case ee.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ee.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ee.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ee.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ee.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ee.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ee.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ee.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ee.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ee.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ee.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ee.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ee.JSONRPCMethod.eth_signTypedData_v4:case ee.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ee.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ee.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ee.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ee.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ee.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ee.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ee.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ee.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ee.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ee.JSONRPCMethod.eth_subscribe:case ee.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,W.ensureAddressString)(e);return this._addresses.map(i=>(0,W.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(sc.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,W.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,W.ensureAddressString)(e.to):null,i=e.value!=null?(0,W.ensureBN)(e.value):new _4.default(0),s=e.data?(0,W.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,W.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,W.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,W.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,W.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,W.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ne.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ne.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,W.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(ah);if(!e)return(0,W.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,W.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(sc.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?sh.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,W.ensureAddressString)(e[0]),n=(0,W.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,W.ensureBuffer)(e[0]),n=(0,W.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,W.ensureBuffer)(e[0]),n=(0,W.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,W.ensureBuffer)(e[0]),n=(0,W.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,W.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,W.ensureParsedJSONObject)(e[0]),n=(0,W.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=oc.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,W.ensureAddressString)(e[0]),n=(0,W.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=oc.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,W.ensureAddressString)(e[0]),n=(0,W.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=oc.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");const i=await this.genericRequest(r,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Ne.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw Ne.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Ne.ethErrors.rpc.invalidParams({message:"Type is required"});if(r?.type!=="ERC20")throw Ne.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!r?.options)throw Ne.ethErrors.rpc.invalidParams({message:"Options are required"});if(!r?.options.address)throw Ne.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,c=await this.watchAsset(r.type,i,s,a,o,n);return{jsonrpc:"2.0",id:0,result:c}}_eth_uninstallFilter(e){const r=(0,W.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0],n=await this._filterPolyfill.newFilter(r);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const r=(0,W.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,W.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}sn.CoinbaseWalletProvider=C4;var eo={},to={},Ke=Nr(z0);function gn(t){return typeof t=="function"}var uh=!1,rt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}uh=t},get useDeprecatedSynchronousErrorHandling(){return uh}};function Gr(t){setTimeout(function(){throw t},0)}var ds={closed:!0,next:function(t){},error:function(t){if(rt.useDeprecatedSynchronousErrorHandling)throw t;Gr(t)},complete:function(){}},Ue=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Lu(t){return t!==null&&typeof t=="object"}var R4=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Kn=R4,le=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(gn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(h){e=h instanceof Kn?lh(h.errors):[h]}}if(Ue(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(Lu(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Kn?e=e.concat(lh(f.errors)):e.push(f)}}if(e)throw new Kn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function lh(t){return t.reduce(function(e,r){return e.concat(r instanceof Kn?r.errors:r)},[])}var ps=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),k=function(t){m(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=ds;break;case 1:if(!r){s.destination=ds;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new fh(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new fh(s,r,n,i);break}return s}return e.prototype[ps]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(le),fh=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return gn(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==ds&&(c=Object.create(n),gn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=rt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Gr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Gr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),rt.useDeprecatedSynchronousErrorHandling)throw i;Gr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!rt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return rt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Gr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(k);function Pu(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof k?t=n:t=null}return!0}function x4(t,e,r){if(t){if(t instanceof k)return t;if(t[ps])return t[ps]()}return!t&&!e&&!r?new k(ds):new k(t,e,r)}var On=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function or(t){return t}function kc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wp(t)}function Wp(t){return t.length===0?or:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var U=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=x4(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||rt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),rt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){rt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Pu(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=hh(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[On]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Wp(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=hh(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function hh(t){if(t||(t=rt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var I4=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Kt=I4,Up=function(t){m(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(le),Vp=function(t){m(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(k),Ae=function(t){m(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ps]=function(){return new Vp(this)},e.prototype.lift=function(r){var n=new dh(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Kt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Kt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Kt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Kt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Kt;return this.hasError?(r.error(this.thrownError),le.EMPTY):this.isStopped?(r.complete(),le.EMPTY):(this.observers.push(r),new Up(this,r))},e.prototype.asObservable=function(){var r=new U;return r.source=this,r},e.create=function(r,n){return new dh(r,n)},e}(U),dh=function(t){m(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):le.EMPTY},e}(Ae);function $u(){return function(e){return e.lift(new A4(e))}}var A4=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new M4(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),M4=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(k),Hp=function(t){m(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new le,r.add(this.source.subscribe(new O4(this.getSubject(),this))),r.closed&&(this._connection=null,r=le.EMPTY)),r},e.prototype.refCount=function(){return $u()(this)},e}(U),T4=function(){var t=Hp.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),O4=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Vp);function k4(t,e,r,n){return function(i){return i.lift(new N4(t,e,r,n))}}var N4=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new L4(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),L4=function(t){m(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Ae,i.set(n,s);var a=new Nc(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Nc(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new P4(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(k),P4=function(t){m(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(k),Nc=function(t){m(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new le,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new $4(s)),n.add(o.subscribe(r)),n},e}(U),$4=function(t){m(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(le),zp=function(t){m(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Kt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ae),j4=function(t){m(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(le),Ii=function(t){m(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(j4),D4=function(t){m(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Ii),Lc=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Ai=function(t){m(e,t);function e(r,n){n===void 0&&(n=Lc.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Lc),B4=function(t){m(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ai),qp=new B4(D4),Gp=qp,yn=new U(function(t){return t.complete()});function kn(t){return t?F4(t):yn}function F4(t){return new U(function(e){return t.schedule(function(){return e.complete()})})}function Ye(t){return t&&typeof t.schedule=="function"}var Jp=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function ju(t,e){return new U(function(r){var n=new le,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Mi(t,e){return e?ju(t,e):new U(Jp(t))}function ro(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ye(r)?(t.pop(),ju(t,r)):Mi(t)}function Du(t,e){return e?new U(function(r){return e.schedule(W4,0,{error:t,subscriber:r})}):new U(function(r){return r.error(t)})}function W4(t){var e=t.error,r=t.subscriber;r.error(e)}var Pc;Pc||(Pc={});var Ft=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ro(this.value);case"E":return Du(this.error);case"C":return kn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function U4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new V4(t,e))}}var V4=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Qp(e,this.scheduler,this.delay))},t}(),Qp=function(t){m(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new H4(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Ft.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Ft.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Ft.createComplete()),this.unsubscribe()},e}(k),H4=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Bu=function(t){m(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new z4(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Kt;if(this.isStopped||this.hasError?a=le.EMPTY:(this.observers.push(r),a=new Up(this,r)),s&&r.add(r=new Qp(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Gp).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Ae),z4=function(){function t(e,r){this.time=e,this.value=r}return t}(),Nn=function(t){m(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),le.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),le.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ae),q4=1,G4=function(){return Promise.resolve()}(),$c={};function ph(t){return t in $c?(delete $c[t],!0):!1}var bh={setImmediate:function(t){var e=q4++;return $c[e]=!0,G4.then(function(){return ph(e)&&t()}),e},clearImmediate:function(t){ph(t)}},J4=function(t){m(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=bh.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(bh.clearImmediate(n),r.scheduled=void 0)},e}(Ii),Q4=function(t){m(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ai),Zp=new Q4(J4),ts=Zp,Yp=new Ai(Ii),Ve=Yp,Z4=function(t){m(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Ii),Y4=function(t){m(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ai),Kp=new Y4(Z4),K4=Kp,X4=function(t){m(e,t);function e(r,n){r===void 0&&(r=Xp),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Ai),Xp=function(t){m(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Ii);function xt(){}function e5(t){return!!t&&(t instanceof U||typeof t.lift=="function"&&typeof t.subscribe=="function")}var t5=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),vn=t5,r5=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Ti=r5,n5=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),e0=n5;function ct(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i5(t,e))}}var i5=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new s5(e,this.project,this.thisArg))},t}(),s5=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(k);function t0(t,e,r){if(e)if(Ye(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t0(t,r).apply(void 0,n).pipe(ct(function(s){return Ue(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new U(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(o5,0,l)}else{if(!o){o=new Nn;var u=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];o.next(h.length<=1?h[0]:h),o.complete()};try{t.apply(s,n.concat([u]))}catch(h){Pu(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function o5(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Nn;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.length<=1?l[0]:l;e.add(a.schedule(a5,0,{value:f,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function a5(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function r0(t,e,r){if(e)if(Ye(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r0(t,r).apply(void 0,n).pipe(ct(function(s){return Ue(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new U(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(c5,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Nn;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){Pu(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function c5(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Nn;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f)e.add(a.schedule(gh,0,{err:f,subject:c}));else{var d=l.length<=1?l[0]:l;e.add(a.schedule(u5,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(gh,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function u5(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function gh(t){var e=t.err,r=t.subject;r.error(e)}var Br=function(t){m(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(k),l5=function(t){m(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(k),f5=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Gr),e}};function h5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ar=h5(),d5=function(t){return function(e){var r=t[ar]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},p5=function(t){return function(e){var r=t[On]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},n0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function i0(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ii=function(t){if(!!t&&typeof t[On]=="function")return p5(t);if(n0(t))return Jp(t);if(i0(t))return f5(t);if(!!t&&typeof t[ar]=="function")return d5(t);var e=Lu(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Ut(t,e,r,n,i){if(i===void 0&&(i=new l5(t,r,n)),!i.closed)return e instanceof U?e.subscribe(i):ii(e)(i)}var yh={};function b5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ye(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ue(t[0])&&(t=t[0]),Mi(t,n).lift(new Fu(r))}var Fu=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.resultSelector))},t}(),g5=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(yh),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Ut(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===yh?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Br);function y5(t,e){return new U(function(r){var n=new le;return n.add(e.schedule(function(){var i=t[On]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function v5(t,e){return new U(function(r){var n=new le;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function m5(t,e){if(!t)throw new Error("Iterable cannot be null");return new U(function(r){var n=new le,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[ar](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function w5(t){return t&&typeof t[On]=="function"}function _5(t){return t&&typeof t[ar]=="function"}function s0(t,e){if(t!=null){if(w5(t))return y5(t,e);if(i0(t))return v5(t,e);if(n0(t))return ju(t,e);if(_5(t)||typeof t=="string")return m5(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Vt(t,e){return e?s0(t,e):t instanceof U?t:new U(ii(t))}var de=function(t){m(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(k),pe=function(t){m(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(k);function be(t,e){if(!e.closed){if(t instanceof U)return t.subscribe(e);var r;try{r=ii(t)(e)}catch(n){e.error(n)}return r}}function Or(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Or(function(i,s){return Vt(t(i,s)).pipe(ct(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new S5(t,r))})}var S5=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new E5(e,this.project,this.concurrent))},t}(),E5=function(t){m(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new de(this),i=this.destination;i.add(n);var s=be(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(pe),C5=Or;function Wu(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Or(or,t)}function o0(){return Wu(1)}function si(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o0()(ro.apply(void 0,t))}function Uu(t){return new U(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Vt(r):kn();return n.subscribe(e)})}function R5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ue(r))return qi(r,null);if(Lu(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return qi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ue(t[0])?t[0]:t,qi(t,null).pipe(ct(function(s){return i.apply(void 0,s)}))}return qi(t,null)}function qi(t,e){return new U(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=Vt(t[u]),h=!1;r.add(l.subscribe({next:function(f){h||(h=!0,o++),i[u]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!h)&&(o===n&&r.next(e?e.reduce(function(f,d,y){return f[d]=i[y],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function a0(t,e,r,n){return gn(r)&&(n=r,r=void 0),n?a0(t,e,r).pipe(ct(function(i){return Ue(i)?n.apply(void 0,i):n(i)})):new U(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}c0(t,e,s,i,r)})}function c0(t,e,r,n,i){var s;if(A5(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(I5(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(x5(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)c0(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function x5(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function I5(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function A5(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function u0(t,e,r){return r?u0(t,e).pipe(ct(function(n){return Ue(n)?r.apply(void 0,n):r(n)})):new U(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!gn(e))return function(){return e(i,s)}})}function M5(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||or,i=a.scheduler}else n===void 0||Ye(n)?(o=t,s=or,i=n):(o=t,s=n);return new U(function(c){var u=o;if(i)return i.schedule(T5,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var h=void 0;try{h=s(u)}catch(f){c.error(f);return}if(c.next(h),c.closed)break;try{u=r(u)}catch(f){c.error(f);return}}while(!0)})}function T5(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function O5(t,e,r){return e===void 0&&(e=yn),r===void 0&&(r=yn),Uu(function(){return t()?e:r})}function mn(t){return!Ue(t)&&t-parseFloat(t)+1>=0}function k5(t,e){return t===void 0&&(t=0),e===void 0&&(e=Ve),(!mn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Ve),new U(function(r){return r.add(e.schedule(N5,t,{subscriber:r,counter:0,period:t})),r})}function N5(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function l0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ye(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof U?t[0]:Wu(r)(Mi(t,n))}var f0=new U(xt);function L5(){return f0}function jc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return yn;var r=t[0],n=t.slice(1);return t.length===1&&Ue(r)?jc.apply(void 0,r):new U(function(i){var s=function(){return i.add(jc.apply(void 0,n).subscribe(i))};return Vt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function P5(t,e){return e?new U(function(r){var n=Object.keys(t),i=new le;return i.add(e.schedule($5,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new U(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function $5(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function h0(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function cr(t,e){return function(n){return n.lift(new j5(t,e))}}var j5=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new D5(e,this.predicate,this.thisArg))},t}(),D5=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(k);function B5(t,e,r){return[cr(e,r)(new U(ii(t))),cr(h0(e,r))(new U(ii(t)))]}function d0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ue(t[0]))t=t[0];else return t[0];return Mi(t,void 0).lift(new F5)}var F5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new W5(e))},t}(),W5=function(t){m(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Ut(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Br);function U5(t,e,r){return t===void 0&&(t=0),new U(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(V5,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function V5(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function p0(t,e,r){t===void 0&&(t=0);var n=-1;return mn(e)?n=Number(e)<1&&1||Number(e):Ye(e)&&(r=e),Ye(r)||(r=Ve),new U(function(i){var s=mn(t)?t:+t-r.now();return r.schedule(H5,s,{index:0,period:n,subscriber:i})})}function H5(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function z5(t,e){return new U(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Vt(i):yn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function b0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Mi(t,void 0).lift(new g0(r))}var g0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new q5(e,this.resultSelector))},t}(),q5=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ue(r)?n.push(new J5(r)):typeof r[ar]=="function"?n.push(new G5(r[ar]())):n.push(new Q5(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(k),G5=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),J5=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[ar]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Q5=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[ar]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return be(this.observable,new de(this))},e}(pe),Z5=Object.freeze(Object.defineProperty({__proto__:null,Observable:U,ConnectableObservable:Hp,GroupedObservable:Nc,observable:On,Subject:Ae,BehaviorSubject:zp,ReplaySubject:Bu,AsyncSubject:Nn,asap:ts,asapScheduler:Zp,async:Ve,asyncScheduler:Yp,queue:Gp,queueScheduler:qp,animationFrame:K4,animationFrameScheduler:Kp,VirtualTimeScheduler:X4,VirtualAction:Xp,Scheduler:Lc,Subscription:le,Subscriber:k,Notification:Ft,get NotificationKind(){return Pc},pipe:kc,noop:xt,identity:or,isObservable:e5,ArgumentOutOfRangeError:vn,EmptyError:Ti,ObjectUnsubscribedError:Kt,UnsubscriptionError:Kn,TimeoutError:e0,bindCallback:t0,bindNodeCallback:r0,combineLatest:b5,concat:si,defer:Uu,empty:kn,forkJoin:R5,from:Vt,fromEvent:a0,fromEventPattern:u0,generate:M5,iif:O5,interval:k5,merge:l0,never:L5,of:ro,onErrorResumeNext:jc,pairs:P5,partition:B5,race:d0,range:U5,throwError:Du,timer:p0,using:z5,zip:b0,scheduled:s0,EMPTY:yn,NEVER:f0,config:rt},Symbol.toStringTag,{value:"Module"})),no=Nr(Z5),io={};function y0(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=y0(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function vh(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=y0(t))&&(n&&(n+=" "),n+=e);return n}var Y5=Object.freeze(Object.defineProperty({__proto__:null,clsx:vh,default:vh},Symbol.toStringTag,{value:"Module"})),so=Nr(Y5),Oi=Nr(q0),Ot={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.LIB_VERSION=void 0;oo.LIB_VERSION="3.6.6";var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.CloseIcon=void 0;const mh=Ke;function K5(t){return(0,mh.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,mh.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ao.CloseIcon=K5;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var co={};Object.defineProperty(co,"__esModule",{value:!0});co.QRCodeIcon=void 0;const Ct=Ke;function X5(t){return(0,Ct.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ct.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Ct.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Ct.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Ct.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Ct.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Ct.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Ct.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Ct.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Ct.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}co.QRCodeIcon=X5;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});const eC=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;zu.default=eC;var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.StatusDotIcon=void 0;const wh=Ke;function tC(t){return(0,wh.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,wh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}uo.StatusDotIcon=tC;var lo={};function v0(t){this.mode=Qe.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}v0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function kt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}kt.prototype={addData:function(t){var e=new v0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=kt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ae.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ae.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ae.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ae.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=ae.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};kt.PAD0=236;kt.PAD1=17;kt.createData=function(t,e,r){for(var n=At.getRSBlocks(t,e),i=new m0,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ae.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(kt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(kt.PAD1,8);return kt.createBytes(i,n)};kt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var h=ae.getErrorCorrectPolynomial(u),f=new nn(s[a],h.getLength()-1),d=f.mod(h);o[a]=new Array(h.getLength()-1);for(var l=0;l<o[a].length;l++){var y=l+d.getLength()-o[a].length;o[a][l]=y>=0?d.get(y):0}}for(var E=0,l=0;l<e.length;l++)E+=e[l].totalCount;for(var R=new Array(E),v=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(R[v++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(R[v++]=o[a][l]);return R};var Qe={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},tr={L:1,M:0,Q:3,H:2},zt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ae={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ae.getBCHDigit(e)-ae.getBCHDigit(ae.G15)>=0;)e^=ae.G15<<ae.getBCHDigit(e)-ae.getBCHDigit(ae.G15);return(t<<10|e)^ae.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ae.getBCHDigit(e)-ae.getBCHDigit(ae.G18)>=0;)e^=ae.G18<<ae.getBCHDigit(e)-ae.getBCHDigit(ae.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ae.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case zt.PATTERN000:return(e+r)%2==0;case zt.PATTERN001:return e%2==0;case zt.PATTERN010:return r%3==0;case zt.PATTERN011:return(e+r)%3==0;case zt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case zt.PATTERN101:return e*r%2+e*r%3==0;case zt.PATTERN110:return(e*r%2+e*r%3)%2==0;case zt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new nn([1],0),r=0;r<t;r++)e=e.multiply(new nn([1,Ie.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Qe.MODE_NUMBER:return 10;case Qe.MODE_ALPHA_NUM:return 9;case Qe.MODE_8BIT_BYTE:return 8;case Qe.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Qe.MODE_NUMBER:return 12;case Qe.MODE_ALPHA_NUM:return 11;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Qe.MODE_NUMBER:return 14;case Qe.MODE_ALPHA_NUM:return 13;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var h=Math.abs(100*l/e/e-50)/5;return r+=h*10,r}},Ie={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ie.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ie.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Me=0;Me<8;Me++)Ie.EXP_TABLE[Me]=1<<Me;for(var Me=8;Me<256;Me++)Ie.EXP_TABLE[Me]=Ie.EXP_TABLE[Me-4]^Ie.EXP_TABLE[Me-5]^Ie.EXP_TABLE[Me-6]^Ie.EXP_TABLE[Me-8];for(var Me=0;Me<255;Me++)Ie.LOG_TABLE[Ie.EXP_TABLE[Me]]=Me;function nn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}nn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ie.gexp(Ie.glog(this.get(r))+Ie.glog(t.get(n)));return new nn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ie.glog(this.get(0))-Ie.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ie.gexp(Ie.glog(t.get(n))+e);return new nn(r,0).mod(t)}};function At(t,e){this.totalCount=t,this.dataCount=e}At.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];At.getRSBlocks=function(t,e){var r=At.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new At(a,c));return i};At.getRsBlockTable=function(t,e){switch(e){case tr.L:return At.RS_BLOCK_TABLE[(t-1)*4+0];case tr.M:return At.RS_BLOCK_TABLE[(t-1)*4+1];case tr.Q:return At.RS_BLOCK_TABLE[(t-1)*4+2];case tr.H:return At.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function m0(){this.buffer=[],this.length=0}m0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ac=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return tr.L;case"M":return tr.M;case"Q":return tr.Q;case"H":return tr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),h=1,f=0,d=0,y=ac.length;d<=y;d++){var E=ac[d];if(!E)throw new Error("Content too long: expected "+f+" but got "+l);switch(u){case"L":f=E[0];break;case"M":f=E[1];break;case"Q":f=E[2];break;case"H":f=E[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=f)break;h++}if(h>ac.length)throw new Error("Content too long");return h}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new kt(o,a),this.qrcode.addData(s),this.qrcode.make()}w0.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,y=typeof e.predefined<"u"?!!e.predefined:!1,E=y?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",R=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,v="",_="",S=0;S<c;S++)for(var M=0;M<c;M++){var I=r[M][S];if(I){var L=M*u+e.padding*u,z=S*l+e.padding*l;if(f){var te=L;L=z,z=te}if(h){var D=u+L,F=l+z;L=Number.isInteger(L)?Number(L):L.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),_+="M"+L+","+z+" V"+F+" H"+D+" V"+z+" H"+L+" Z "}else y?v+=i+'<use x="'+L.toString()+'" y="'+z.toString()+'" href="#qrmodule" />'+s:v+=i+'<rect x="'+L.toString()+'" y="'+z.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(v=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+_+'" />');let re="";if(this.options.image!==void 0&&this.options.image.svg){const J=o*this.options.image.width/100,N=a*this.options.image.height/100,oe=o/2-J/2,ye=a/2-N/2;re+=`<svg x="${oe}" y="${ye}" width="${J}" height="${N}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,re+=this.options.image.svg+s,re+="</svg>"}var B="";switch(t.container){case"svg":d&&(B+='<?xml version="1.0" standalone="yes"?>'+s),B+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,B+=E+R+v,B+=re,B+="</svg>";break;case"svg-viewbox":d&&(B+='<?xml version="1.0" standalone="yes"?>'+s),B+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,B+=E+R+v,B+=re,B+="</svg>";break;case"g":B+='<g width="'+o+'" height="'+a+'">'+s,B+=E+R+v,B+=re,B+="</g>";break;default:B+=(E+R+v+re).replace(/^\s+/,"");break}return B};var rC=w0,nC=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lo,"__esModule",{value:!0});lo.QRCode=void 0;const iC=Ke,_h=Oi,sC=nC(rC),oC=t=>{const[e,r]=(0,_h.useState)("");return(0,_h.useEffect)(()=>{var n,i;const s=new sC.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,iC.h)("img",{src:e,alt:"QR Code"}):null};lo.QRCode=oC;var fo={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var aC=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fo,"__esModule",{value:!0});fo.Spinner=void 0;const Gi=Ke,cC=aC(Gu),uC=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Gi.h)("div",{class:"-cbwsdk-spinner"},(0,Gi.h)("style",null,cC.default),(0,Gi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Gi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};fo.Spinner=uC;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ln=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.CoinbaseAppSteps=Ot.CoinbaseWalletSteps=Ot.ConnectItem=Ot.ConnectContent=void 0;const it=Ln(so),$=Ke,Sh=Oi,lC=O,fC=oo,hC=ao,dC=Ln(Vu),pC=Ln(Hu),_0=co,bC=Ln(zu),gC=Ln(qu),yC=uo,vC=lo,mC=fo,wC=Ln(Ju),Eh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:pC.default,steps:E0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:dC.default,steps:C0}},_C=t=>{switch(t){case"coinbase-app":return bC.default;case"coinbase-wallet-app":default:return gC.default}},Dc=t=>t==="light"?"#FFFFFF":"#0A0B0D";function SC(t){const{theme:e}=t,[r,n]=(0,Sh.useState)("coinbase-wallet-app"),i=(0,Sh.useCallback)(u=>{n(u)},[]),s=(0,lC.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Eh[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,$.h)("div",{"data-testid":"connect-content",class:(0,it.default)("-cbwsdk-connect-content",e)},(0,$.h)("style",null,wC.default),(0,$.h)("div",{class:"-cbwsdk-connect-content-header"},(0,$.h)("h2",{class:(0,it.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,$.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,$.h)(hC.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,$.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,$.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,$.h)("div",null,Object.entries(Eh).map(([u,l])=>(0,$.h)(S0,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,$.h)("div",{class:(0,it.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,$.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,$.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,$.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,$.h)(vC.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:_C(r),width:25,height:25}}),(0,$.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:fC.LIB_VERSION}),(0,$.h)("input",{type:"hidden",value:s})),(0,$.h)(a,{theme:e}),!t.isConnected&&(0,$.h)("div",{"data-testid":"connecting-spinner",class:(0,it.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,$.h)(mC.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,$.h)("p",null,"Connecting...")))))}Ot.ConnectContent=SC;function S0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,$.h)("div",{onClick:s,class:(0,it.default)("-cbwsdk-connect-item",i,{selected:n})},(0,$.h)("div",null,(0,$.h)("img",{src:r,alt:t})),(0,$.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,$.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,$.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Ot.ConnectItem=S0;function E0({theme:t}){return(0,$.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,$.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,$.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,$.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,$.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,$.h)("span",null,"Tap ",(0,$.h)("strong",null,"Scan")," "),(0,$.h)("span",{class:(0,it.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,$.h)(_0.QRCodeIcon,{fill:Dc(t)})))))}Ot.CoinbaseWalletSteps=E0;function C0({theme:t}){return(0,$.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,$.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,$.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,$.h)("li",{class:(0,it.default)("-cbwsdk-wallet-steps-item",t)},(0,$.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,$.h)("span",null,"Tap ",(0,$.h)("strong",null,"More")),(0,$.h)("span",{class:(0,it.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,$.h)(yC.StatusDotIcon,{fill:Dc(t)})),(0,$.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,$.h)("strong",null,"Scan")),(0,$.h)("span",{class:(0,it.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,$.h)(_0.QRCodeIcon,{fill:Dc(t)})))))}Ot.CoinbaseAppSteps=C0;var ho={},po={};Object.defineProperty(po,"__esModule",{value:!0});po.ArrowLeftIcon=void 0;const Ch=Ke;function EC(t){return(0,Ch.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ch.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}po.ArrowLeftIcon=EC;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.LaptopIcon=void 0;const cc=Ke;function CC(t){return(0,cc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,cc.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,cc.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}bo.LaptopIcon=CC;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.SafeIcon=void 0;const Rh=Ke;function RC(t){return(0,Rh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Rh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}go.SafeIcon=RC;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var R0=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ho,"__esModule",{value:!0});ho.TryExtensionContent=void 0;const fr=R0(so),ve=Ke,uc=Oi,xC=po,IC=bo,AC=go,MC=R0(Qu);function TC({theme:t}){const[e,r]=(0,uc.useState)(!1),n=(0,uc.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,uc.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,ve.h)("div",{class:(0,fr.default)("-cbwsdk-try-extension",t)},(0,ve.h)("style",null,MC.default),(0,ve.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ve.h)("h3",{class:(0,fr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,ve.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ve.h)("button",{class:(0,fr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,ve.h)("div",null,!e&&(0,ve.h)(xC.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,ve.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ve.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ve.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ve.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ve.h)("span",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ve.h)(IC.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ve.h)("div",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,ve.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ve.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ve.h)("span",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ve.h)(AC.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ve.h)("div",{class:(0,fr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ho.TryExtensionContent=TC;var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var x0=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(io,"__esModule",{value:!0});io.ConnectDialog=void 0;const lc=x0(so),hr=Ke,fc=Oi,OC=Ot,kC=ho,NC=x0(Zu),LC=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,fc.useState)(!e),[s,o]=(0,fc.useState)(!e);(0,fc.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,hr.h)("div",{class:(0,lc.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,hr.h)("style",null,NC.default),(0,hr.h)("div",{class:(0,lc.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,hr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,hr.h)("div",{class:(0,lc.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,hr.h)(OC.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,hr.h)(kC.TryExtensionContent,{theme:a}))))};io.ConnectDialog=LC;Object.defineProperty(to,"__esModule",{value:!0});to.LinkFlow=void 0;const hc=Ke,xh=no,PC=io;class $C{constructor(e){this.extensionUI$=new xh.BehaviorSubject({}),this.subscriptions=new xh.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,hc.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,hc.render)((0,hc.h)(PC.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}to.LinkFlow=$C;var I0={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=A&&A.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(so),n=Ke,i=Oi,s=e(Yu),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const d=this.nextItemKey++;return this.items.set(d,f),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:f}))))),this.root)}}t.Snackbar=c;const u=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=u;const l=({autoExpand:h,message:f,menuItems:d,appSrc:y})=>{const[E,R]=(0,i.useState)(!0),[v,_]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const M=[window.setTimeout(()=>{R(!1)},1),window.setTimeout(()=>{_(!0)},1e4)];return()=>{M.forEach(window.clearTimeout)}});const S=()=>{_(!v)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",E&&"-cbwsdk-snackbar-instance-hidden",v&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:S},(0,n.h)("img",{src:a(y),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!v&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((M,I)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:M.onClick,key:I},(0,n.h)("svg",{width:M.svgWidth,height:M.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":M.defaultFillRule,"clip-rule":M.defaultClipRule,d:M.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},M.info)))))};t.SnackbarInstance=l})(I0);var yo={},Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var jC=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});yo.injectCssReset=void 0;const DC=jC(Ku);function BC(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(DC.default)),document.documentElement.appendChild(t)}yo.injectCssReset=BC;Object.defineProperty(eo,"__esModule",{value:!0});eo.WalletSDKUI=void 0;const FC=to,WC=I0,UC=yo;class VC{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new WC.Snackbar({darkMode:e.darkMode}),this.linkFlow=new FC.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,UC.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}eo.WalletSDKUI=VC;var vo={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});var Jr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Jr||(Jr={}));function A0(t,e,r){if(!r||typeof r.value!==Jr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Jr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Jr.boolTrue,writable:Jr.boolTrue}),n}}}mo.bind=A0;mo.default=A0;function M0(t){return function(r){return r.lift(new HC(t))}}var HC=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new zC(e,this.durationSelector))},t}(),zC=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=be(n,new de(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(pe);function qC(t,e){return e===void 0&&(e=Ve),M0(function(){return p0(t,e)})}function GC(t){return function(r){return r.lift(new JC(t))}}var JC=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new QC(e,this.closingNotifier))},t}(),QC=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(be(n,new de(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(pe);function ZC(t,e){return e===void 0&&(e=null),function(n){return n.lift(new YC(t,e))}}var YC=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=KC:this.subscriberClass=XC}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),KC=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(k),XC=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(k);function eR(t){var e=arguments.length,r=Ve;Ye(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new tR(t,n,i,r))}}var tR=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new nR(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),rR=function(){function t(){this.buffer=[]}return t}(),nR=function(t){m(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Ih,n,u))}else{var l={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(T0,n,l)),a.add(o.schedule(iR,i,h))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Ih,i,s))}},e.prototype.openContext=function(){var r=new rR;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(k);function Ih(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function iR(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(T0,r,{subscriber:n,context:s})),o.schedule(t,e))}function T0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function sR(t,e){return function(n){return n.lift(new oR(t,e))}}var oR=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new aR(e,this.openings,this.closingSelector))},t}(),aR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Ut(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new le,o={buffer:i,subscription:s};n.push(o);var a=Ut(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Br);function cR(t){return function(e){return e.lift(new uR(t))}}var uR=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new lR(e,this.closingSelector))},t}(),lR=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new le,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(be(i,new de(this))),this.subscribing=!1},e}(pe);function fR(t){return function(r){var n=new hR(t),i=r.lift(n);return n.caught=i}}var hR=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new dR(e,this.selector,this.caught))},t}(),dR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new de(this);this.add(i);var s=be(n,i);s!==i&&this.add(s)}},e}(pe);function pR(t){return function(e){return e.lift(new Fu(t))}}function bR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ue(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Vt([n].concat(t)),new Fu(r))}}function gR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(si.apply(void 0,[r].concat(t)))}}function O0(t,e){return Or(t,e,1)}function yR(t,e){return O0(function(){return t},e)}function vR(t){return function(e){return e.lift(new mR(t,e))}}var mR=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new wR(e,this.predicate,this.source))},t}(),wR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(k);function _R(t){return function(e){return e.lift(new SR(t))}}var SR=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new ER(e,this.durationSelector))},t}(),ER=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=be(n,new de(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(pe);function CR(t,e){return e===void 0&&(e=Ve),function(r){return r.lift(new RR(t,e))}}var RR=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new xR(e,this.dueTime,this.scheduler))},t}(),xR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(IR,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(k);function IR(t){t.debouncedNext()}function ki(t){return t===void 0&&(t=null),function(e){return e.lift(new AR(t))}}var AR=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new MR(e,this.defaultValue))},t}(),MR=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(k);function k0(t){return t instanceof Date&&!isNaN(+t)}function TR(t,e){e===void 0&&(e=Ve);var r=k0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new OR(n,e))}}var OR=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new kR(e,this.delay,this.scheduler))},t}(),kR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new NR(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Ft.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Ft.createComplete()),this.unsubscribe()},e}(k),NR=function(){function t(e,r){this.time=e,this.notification=r}return t}();function LR(t,e){return e?function(r){return new $R(r,e).lift(new Ah(t))}:function(r){return r.lift(new Ah(t))}}var Ah=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new PR(e,this.delayDurationSelector))},t}(),PR=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Ut(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Br),$R=function(t){m(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new jR(r,this.source))},e}(U),jR=function(t){m(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(k);function DR(){return function(e){return e.lift(new BR)}}var BR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new FR(e))},t}(),FR=function(t){m(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(k);function WR(t,e){return function(r){return r.lift(new UR(t,e))}}var UR=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new VR(e,this.keySelector,this.flushes))},t}(),VR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(be(i,new de(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(pe);function N0(t,e){return function(r){return r.lift(new HR(t,e))}}var HR=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new zR(e,this.compare,this.keySelector))},t}(),zR=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(k);function qR(t,e){return N0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function wo(t){return t===void 0&&(t=QR),function(e){return e.lift(new GR(t))}}var GR=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new JR(e,this.errorFactory))},t}(),JR=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(k);function QR(){return new Ti}function Xu(t){return function(e){return t===0?kn():e.lift(new ZR(t))}}var ZR=function(){function t(e){if(this.total=e,this.total<0)throw new vn}return t.prototype.call=function(e,r){return r.subscribe(new YR(e,this.total))},t}(),YR=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(k);function KR(t,e){if(t<0)throw new vn;var r=arguments.length>=2;return function(n){return n.pipe(cr(function(i,s){return s===t}),Xu(1),r?ki(e):wo(function(){return new vn}))}}function XR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return si(r,ro.apply(void 0,t))}}function ex(t,e){return function(r){return r.lift(new tx(t,e,r))}}var tx=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new rx(e,this.predicate,this.thisArg,this.source))},t}(),rx=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k);function nx(){return function(t){return t.lift(new ix)}}var ix=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new sx(e))},t}(),sx=function(t){m(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(be(r,new de(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(pe);function L0(t,e){return e?function(r){return r.pipe(L0(function(n,i){return Vt(t(n,i)).pipe(ct(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new ox(t))}}var ox=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new ax(e,this.project))},t}(),ax=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new de(this),i=this.destination;i.add(n);var s=be(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(pe);function cx(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new ux(t,e,r))}}var ux=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new lx(e,this.project,this.concurrent,this.scheduler))},t}(),lx=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(be(r,new de(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(pe);function fx(t){return function(e){return e.lift(new hx(t))}}var hx=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new dx(e,this.callback))},t}(),dx=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new le(n)),i}return e}(k);function px(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new P0(t,r,!1,e))}}var P0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new bx(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),bx=function(t){m(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(k);function gx(t,e){return function(r){return r.lift(new P0(t,r,!0,e))}}function yx(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?cr(function(i,s){return t(i,s,n)}):or,Xu(1),r?ki(e):wo(function(){return new Ti}))}}function vx(){return function(e){return e.lift(new mx)}}var mx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new wx(e))},t}(),wx=function(t){m(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(k);function _x(){return function(t){return t.lift(new Sx)}}var Sx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Ex(e))},t}(),Ex=function(t){m(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k);function bs(t){return function(r){return t===0?kn():r.lift(new Cx(t))}}var Cx=function(){function t(e){if(this.total=e,this.total<0)throw new vn}return t.prototype.call=function(e,r){return r.subscribe(new Rx(e,this.total))},t}(),Rx=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(k);function xx(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?cr(function(i,s){return t(i,s,n)}):or,bs(1),r?ki(e):wo(function(){return new Ti}))}}function Ix(t){return function(e){return e.lift(new Ax(t))}}var Ax=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Mx(e,this.value))},t}(),Mx=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(k);function Tx(){return function(e){return e.lift(new Ox)}}var Ox=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new kx(e))},t}(),kx=function(t){m(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Ft.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Ft.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Ft.createComplete()),r.complete()},e}(k);function gs(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Nx(t,e,r))}}var Nx=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Lx(e,this.accumulator,this.seed,this.hasSeed))},t}(),Lx=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(k);function _o(t,e){return arguments.length>=2?function(n){return kc(gs(t,e),bs(1),ki(e))(n)}:function(n){return kc(gs(function(i,s,o){return t(i,s,o+1)}),bs(1))(n)}}function Px(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return _o(e)}function $x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(l0.apply(void 0,[r].concat(t)))}}function jx(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Or(function(){return t},e,r):(typeof e=="number"&&(r=e),Or(function(){return t},r))}function Dx(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Bx(t,e,r))}}var Bx=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Fx(e,this.accumulator,this.seed,this.concurrent))},t}(),Fx=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new de(this),i=this.destination;i.add(n);var s=be(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(pe);function Wx(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return _o(e)}function kr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Ux(i,e));var s=Object.create(n,T4);return s.source=n,s.subjectFactory=i,s}}var Ux=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Vx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ue(t[0])&&(t=t[0]),function(r){return r.lift(new Hx(t))}}var Hx=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new zx(e,this.nextSources))},t}(),zx=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new de(this),i=this.destination;i.add(n);var s=be(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(pe);function qx(){return function(t){return t.lift(new Gx)}}var Gx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Jx(e))},t}(),Jx=function(t){m(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(k);function Qx(t,e){return function(r){return[cr(t,e)(r),cr(h0(t,e))(r)]}}function Zx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ct(Yx(t,r))(n)}}function Yx(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function Kx(t){return t?kr(function(){return new Ae},t):kr(new Ae)}function Xx(t){return function(e){return kr(new zp(t))(e)}}function eI(){return function(t){return kr(new Nn)(t)}}function tI(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Bu(t,e,n);return function(o){return kr(function(){return s},i)(o)}}function rI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ue(t[0])&&(t=t[0]),n.lift.call(d0.apply(void 0,[n].concat(t)))}}function nI(t){return t===void 0&&(t=-1),function(e){return t===0?kn():t<0?e.lift(new Mh(-1,e)):e.lift(new Mh(t-1,e))}}var Mh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new iI(e,this.count,this.source))},t}(),iI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(k);function sI(t){return function(e){return e.lift(new oI(t))}}var oI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new aI(e,this.notifier,r))},t}(),aI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ae;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=be(r,new de(this))},e}(pe);function cI(t){return t===void 0&&(t=-1),function(e){return e.lift(new uI(t,e))}}var uI=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new lI(e,this.count,this.source))},t}(),lI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(k);function fI(t){return function(e){return e.lift(new hI(t,e))}}var hI=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new dI(e,this.notifier,this.source))},t}(),dI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ae;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=be(i,new de(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(pe);function pI(t){return function(e){return e.lift(new bI(t))}}var bI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new gI(e),i=r.subscribe(n);return i.add(be(this.notifier,new de(n))),i},t}(),gI=function(t){m(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(pe);function yI(t,e){return e===void 0&&(e=Ve),function(r){return r.lift(new vI(t,e))}}var vI=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new mI(e,this.period,this.scheduler))},t}(),mI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(wI,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(k);function wI(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function _I(t,e){return function(r){return r.lift(new SI(t,e))}}var SI=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new EI(e,this.compareTo,this.comparator))},t}(),EI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new CI(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(k),CI=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(k);function RI(){return new Ae}function xI(){return function(t){return $u()(kr(RI)(t))}}function II(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(AI(n))}}function AI(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,h=!1;return function(d){c++;var y;!a||l?(l=!1,a=new Bu(r,i,o),y=a.subscribe(this),u=d.subscribe({next:function(E){a.next(E)},error:function(E){l=!0,a.error(E)},complete:function(){h=!0,u=void 0,a.complete()}}),h&&(u=void 0)):y=a.subscribe(this),this.add(function(){c--,y.unsubscribe(),y=void 0,u&&!h&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function MI(t){return function(e){return e.lift(new TI(t,e))}}var TI=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new OI(e,this.predicate,this.source))},t}(),OI=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Ti)},e}(k);function kI(t){return function(e){return e.lift(new NI(t))}}var NI=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new LI(e,this.total))},t}(),LI=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(k);function PI(t){return function(e){return e.lift(new $I(t))}}var $I=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new vn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new k(e)):r.subscribe(new jI(e,this._skipCount))},t}(),jI=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(k);function DI(t){return function(e){return e.lift(new BI(t))}}var BI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new FI(e,this.notifier))},t}(),FI=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new de(i);i.add(s),i.innerSubscription=s;var o=be(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(pe);function WI(t){return function(e){return e.lift(new UI(t))}}var UI=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new VI(e,this.predicate))},t}(),VI=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(k);function HI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ye(r)?(t.pop(),function(n){return si(t,n,r)}):function(n){return si(t,n)}}var zI=function(t){m(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ts);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!mn(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ts),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ts),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(U);function qI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new GI(t,e))}}var GI=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new zI(r,this.delay,this.scheduler).subscribe(e)},t}();function oi(t,e){return typeof e=="function"?function(r){return r.pipe(oi(function(n,i){return Vt(t(n,i)).pipe(ct(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new JI(t))}}var JI=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new QI(e,this.project))},t}(),QI=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new de(this),s=this.destination;s.add(i),this.innerSubscription=be(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(pe);function ZI(){return oi(or)}function YI(t,e){return e?oi(function(){return t},e):oi(function(){return t})}function KI(t){return function(e){return e.lift(new XI(t))}}var XI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new e6(e),i=be(this.notifier,new de(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),e6=function(t){m(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(pe);function t6(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new r6(t,e))}}var r6=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new n6(e,this.predicate,this.inclusive))},t}(),n6=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(k);function i6(t,e,r){return function(i){return i.lift(new s6(t,e,r))}}var s6=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new o6(e,this.nextOrObserver,this.error,this.complete))},t}(),o6=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=xt,o._tapError=xt,o._tapComplete=xt,o._tapError=i||xt,o._tapComplete=s||xt,gn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||xt,o._tapError=n.error||xt,o._tapComplete=n.complete||xt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(k),$0={leading:!0,trailing:!1};function a6(t,e){return e===void 0&&(e=$0),function(r){return r.lift(new c6(t,!!e.leading,!!e.trailing))}}var c6=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new u6(e,this.durationSelector,this.leading,this.trailing))},t}(),u6=function(t){m(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=be(n,new de(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(pe);function l6(t,e,r){return e===void 0&&(e=Ve),r===void 0&&(r=$0),function(n){return n.lift(new f6(t,e,r.leading,r.trailing))}}var f6=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new h6(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),h6=function(t){m(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(d6,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(k);function d6(t){var e=t.subscriber;e.clearThrottle()}function p6(t){return t===void 0&&(t=Ve),function(e){return Uu(function(){return e.pipe(gs(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ct(function(r){var n=r.current,i=r.last,s=r.value;return new b6(s,n-i)}))})}}var b6=function(){function t(e,r){this.value=e,this.interval=r}return t}();function j0(t,e,r){return r===void 0&&(r=Ve),function(n){var i=k0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new g6(s,i,e,r))}}var g6=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new y6(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),y6=function(t){m(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(be(n,new de(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(pe);function v6(t,e){return e===void 0&&(e=Ve),j0(t,Du(new e0),e)}function m6(t){return t===void 0&&(t=Ve),ct(function(e){return new w6(e,t.now())})}var w6=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function _6(t,e,r){return r===0?[e]:(t.push(e),t)}function S6(){return _o(_6,[])}function E6(t){return function(r){return r.lift(new C6(t))}}var C6=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new R6(e),i=r.subscribe(n);return i.closed||n.add(be(this.windowBoundaries,new de(n))),i},t}(),R6=function(t){m(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ae,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ae;n.next(i)},e}(pe);function x6(t,e){return e===void 0&&(e=0),function(n){return n.lift(new I6(t,e))}}var I6=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new A6(e,this.windowSize,this.startWindowEvery))},t}(),A6=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Ae],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Ae;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(k);function M6(t){var e=Ve,r=null,n=Number.POSITIVE_INFINITY;return Ye(arguments[3])&&(e=arguments[3]),Ye(arguments[2])?e=arguments[2]:mn(arguments[2])&&(n=Number(arguments[2])),Ye(arguments[1])?e=arguments[1]:mn(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new T6(t,r,n,e))}}var T6=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new k6(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),O6=function(t){m(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ae),k6=function(t){m(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(D0,n,u)),a.add(o.schedule(L6,i,l))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(N6,n,h))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new O6;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(k);function N6(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function L6(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(D0,e,c),o.add(a.subscription),o.schedule(t,i)}function D0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function P6(t,e){return function(r){return r.lift(new $6(t,e))}}var $6=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new j6(e,this.openings,this.closingSelector))},t}(),j6=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Ut(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var u=new Ae,l=new le,h={window:u,subscription:l};this.contexts.push(h);var f=Ut(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Br);function D6(t){return function(r){return r.lift(new B6(t))}}var B6=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new F6(e,this.closingSelector))},t}(),F6=function(t){m(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ae;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Ut(this,s))},e}(Br);function W6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new U6(i,n))}}var U6=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new V6(e,this.observables,this.project))},t}(),V6=function(t){m(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Ut(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Br);function H6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(b0.apply(void 0,[n].concat(t)))}}function z6(t){return function(e){return e.lift(new g0(t))}}var q6=Object.freeze(Object.defineProperty({__proto__:null,audit:M0,auditTime:qC,buffer:GC,bufferCount:ZC,bufferTime:eR,bufferToggle:sR,bufferWhen:cR,catchError:fR,combineAll:pR,combineLatest:bR,concat:gR,concatAll:o0,concatMap:O0,concatMapTo:yR,count:vR,debounce:_R,debounceTime:CR,defaultIfEmpty:ki,delay:TR,delayWhen:LR,dematerialize:DR,distinct:WR,distinctUntilChanged:N0,distinctUntilKeyChanged:qR,elementAt:KR,endWith:XR,every:ex,exhaust:nx,exhaustMap:L0,expand:cx,filter:cr,finalize:fx,find:px,findIndex:gx,first:yx,groupBy:k4,ignoreElements:vx,isEmpty:_x,last:xx,map:ct,mapTo:Ix,materialize:Tx,max:Px,merge:$x,mergeAll:Wu,mergeMap:Or,flatMap:C5,mergeMapTo:jx,mergeScan:Dx,min:Wx,multicast:kr,observeOn:U4,onErrorResumeNext:Vx,pairwise:qx,partition:Qx,pluck:Zx,publish:Kx,publishBehavior:Xx,publishLast:eI,publishReplay:tI,race:rI,reduce:_o,repeat:nI,repeatWhen:sI,retry:cI,retryWhen:fI,refCount:$u,sample:pI,sampleTime:yI,scan:gs,sequenceEqual:_I,share:xI,shareReplay:II,single:MI,skip:kI,skipLast:PI,skipUntil:DI,skipWhile:WI,startWith:HI,subscribeOn:qI,switchAll:ZI,switchMap:oi,switchMapTo:YI,take:Xu,takeLast:bs,takeUntil:KI,takeWhile:t6,tap:i6,throttle:a6,throttleTime:l6,throwIfEmpty:wo,timeInterval:p6,timeout:v6,timeoutWith:j0,timestamp:m6,toArray:S6,window:E6,windowCount:x6,windowTime:M6,windowToggle:P6,windowWhen:D6,withLatestFrom:W6,zip:H6,zipAll:z6},Symbol.toStringTag,{value:"Module"})),el=Nr(q6),So={},nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.ClientMessagePublishEvent=nt.ClientMessageSetSessionConfig=nt.ClientMessageGetSessionConfig=nt.ClientMessageIsLinked=nt.ClientMessageHostSession=void 0;function G6(t){return Object.assign({type:"HostSession"},t)}nt.ClientMessageHostSession=G6;function J6(t){return Object.assign({type:"IsLinked"},t)}nt.ClientMessageIsLinked=J6;function Q6(t){return Object.assign({type:"GetSessionConfig"},t)}nt.ClientMessageGetSessionConfig=Q6;function Z6(t){return Object.assign({type:"SetSessionConfig"},t)}nt.ClientMessageSetSessionConfig=Z6;function Y6(t){return Object.assign({type:"PublishEvent"},t)}nt.ClientMessagePublishEvent=Y6;var B0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=no,r=el;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(B0);var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.isServerMessageFail=void 0;function K6(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Eo.isServerMessageFail=K6;Object.defineProperty(So,"__esModule",{value:!0});So.WalletSDKConnection=void 0;const ht=no,G=el,Wn=En,Hr=di,Un=nt,Vn=Sn,Ji=B0,dc=Eo,Th=1e4,X6=6e4;class eA{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new ht.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Hr.IntNumber)(1),this.connectedSubject=new ht.BehaviorSubject(!1),this.linkedSubject=new ht.BehaviorSubject(!1),this.sessionConfigSubject=new ht.ReplaySubject(1);const o=new Ji.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,G.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Vn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Wn.Session.hash(e)})}),(0,G.skip)(1),(0,G.filter)(a=>a===Ji.ConnectionState.DISCONNECTED&&!this.destroyed),(0,G.delay)(5e3),(0,G.filter)(a=>!this.destroyed),(0,G.flatMap)(a=>o.connect()),(0,G.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,G.skip)(2),(0,G.switchMap)(a=>(0,ht.iif)(()=>a===Ji.ConnectionState.CONNECTED,this.authenticate().pipe((0,G.tap)(c=>this.sendIsLinked()),(0,G.tap)(c=>this.sendGetSessionConfig()),(0,G.map)(c=>!0)),(0,ht.of)(!1))),(0,G.distinctUntilChanged)(),(0,G.catchError)(a=>(0,ht.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,G.skip)(1),(0,G.switchMap)(a=>(0,ht.iif)(()=>a===Ji.ConnectionState.CONNECTED,(0,ht.timer)(0,Th)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,G.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,G.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Vn.EVENTS.LINKED,{sessionIdHash:Wn.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,G.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Vn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Wn.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Vn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Wn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Vn.EVENTS.DISCONNECTED,{sessionIdHash:Wn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,G.filter)(e=>e),(0,G.take)(1),(0,G.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,G.filter)(e=>e),(0,G.take)(1),(0,G.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,G.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,G.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Un.ClientMessageSetSessionConfig)({id:(0,Hr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,G.flatMap)(i=>this.makeRequest(n)),(0,G.map)(i=>{if((0,dc.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Un.ClientMessagePublishEvent)({id:(0,Hr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,G.flatMap)(s=>this.makeRequest(i)),(0,G.map)(s=>{if((0,dc.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Th*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=X6){const n=e.id;try{this.sendData(e)}catch(i){return(0,ht.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,G.timeoutWith)(r,(0,ht.throwError)(new Error(`request ${n} timed out`))),(0,G.filter)(i=>i.id===n),(0,G.take)(1))}authenticate(){const e=(0,Un.ClientMessageHostSession)({id:(0,Hr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,G.map)(r=>{if((0,dc.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Un.ClientMessageIsLinked)({id:(0,Hr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Un.ClientMessageGetSessionConfig)({id:(0,Hr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}So.WalletSDKConnection=eA;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.WalletUIError=void 0;class ai extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}Co.WalletUIError=ai;ai.UserRejectedRequest=new ai("User rejected request");ai.SwitchEthereumChainUnsupportedChainId=new ai("Unsupported chainId",4902);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.decrypt=wn.encrypt=void 0;const ys=O;async function tA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,ys.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),h=new Uint8Array([...r,...u,...l]);return(0,ys.uint8ArrayToHex)(h)}wn.encrypt=tA;function rA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,ys.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,ys.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(l,i,u),f=new TextDecoder;r(f.decode(h))}catch(h){n(h)}})()})}wn.decrypt=rA;var tl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(tl);var Ro={},xo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(xo);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Web3RequestCanceledMessage=void 0;const nA=xo;function iA(t){return{type:nA.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Ro.Web3RequestCanceledMessage=iA;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.Web3RequestMessage=void 0;const sA=xo;function oA(t){return Object.assign({type:sA.RelayMessageType.WEB3_REQUEST},t)}Io.Web3RequestMessage=oA;var se={};Object.defineProperty(se,"__esModule",{value:!0});se.EthereumAddressFromSignedMessageResponse=se.SubmitEthereumTransactionResponse=se.SignEthereumTransactionResponse=se.SignEthereumMessageResponse=se.isRequestEthereumAccountsResponse=se.SelectProviderResponse=se.WatchAssetReponse=se.RequestEthereumAccountsResponse=se.SwitchEthereumChainResponse=se.AddEthereumChainResponse=se.ErrorResponse=void 0;const Pt=tl;function aA(t,e,r){return{method:t,errorMessage:e,errorCode:r}}se.ErrorResponse=aA;function cA(t){return{method:Pt.Web3Method.addEthereumChain,result:t}}se.AddEthereumChainResponse=cA;function uA(t){return{method:Pt.Web3Method.switchEthereumChain,result:t}}se.SwitchEthereumChainResponse=uA;function lA(t){return{method:Pt.Web3Method.requestEthereumAccounts,result:t}}se.RequestEthereumAccountsResponse=lA;function fA(t){return{method:Pt.Web3Method.watchAsset,result:t}}se.WatchAssetReponse=fA;function hA(t){return{method:Pt.Web3Method.selectProvider,result:t}}se.SelectProviderResponse=hA;function dA(t){return t&&t.method===Pt.Web3Method.requestEthereumAccounts}se.isRequestEthereumAccountsResponse=dA;function pA(t){return{method:Pt.Web3Method.signEthereumMessage,result:t}}se.SignEthereumMessageResponse=pA;function bA(t){return{method:Pt.Web3Method.signEthereumTransaction,result:t}}se.SignEthereumTransactionResponse=bA;function gA(t){return{method:Pt.Web3Method.submitEthereumTransaction,result:t}}se.SubmitEthereumTransactionResponse=gA;function yA(t){return{method:Pt.Web3Method.ethereumAddressFromSignedMessage,result:t}}se.EthereumAddressFromSignedMessageResponse=yA;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.isWeb3ResponseMessage=_n.Web3ResponseMessage=void 0;const F0=xo;function vA(t){return Object.assign({type:F0.RelayMessageType.WEB3_RESPONSE},t)}_n.Web3ResponseMessage=vA;function mA(t){return t&&t.type===F0.RelayMessageType.WEB3_RESPONSE}_n.isWeb3ResponseMessage=mA;var wA=A&&A.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_A=A&&A.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),W0=A&&A.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},SA=A&&A.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wA(e,t,r);return _A(e,t),e},EA=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vo,"__esModule",{value:!0});vo.WalletSDKRelay=void 0;const U0=EA(mo),Oh=Ss,dr=no,me=el,Le=Sn,CA=So,pc=Co,RA=di,ie=O,qt=SA(wn),Gt=En,Qi=yt,Ee=tl,xA=Ro,IA=Io,Je=se,je=_n;class gt extends Qi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new dr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new dr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Gt.Session.load(this.storage)||new Gt.Session(this.storage).save(),r=new CA.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,me.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,me.skip)(1),(0,me.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Qi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Le.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,me.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,me.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,me.mergeMap)(i=>qt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Qi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,me.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,me.mergeMap)(i=>qt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Qi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,me.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,me.mergeMap)(i=>(0,dr.zip)(qt.decrypt(i.metadata.ChainId,e.secret),qt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,me.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,me.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,me.mergeMap)(i=>qt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),gt.accountRequestCallbackIds.size>0&&(Array.from(gt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,je.Web3ResponseMessage)({id:s,response:(0,Je.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),gt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,me.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,me.mergeMap)(i=>qt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,me.timeout)(1e3),(0,me.catchError)(e=>(0,dr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Le.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Gt.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Gt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new dr.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ee.Web3Method.signEthereumMessage,params:{message:(0,ie.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ee.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ie.hexStringFromBuffer)(e,!0),signature:(0,ie.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ie.bigIntStringFromBN)(e.weiValue),data:(0,ie.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ie.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ie.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ie.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ie.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ee.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ie.bigIntStringFromBN)(e.weiValue),data:(0,ie.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ie.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ie.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ie.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ie.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ee.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ie.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ee.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ie.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ee.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ie.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,IA.Web3RequestMessage)({id:e,request:r}),s=Gt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Le.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Gt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Le.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Gt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,xA.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new dr.Observable(s=>{qt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,me.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,dr.from)(qt.decrypt(e.data,this.session.secret)).pipe((0,me.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,je.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Je.isRequestEthereumAccountsResponse)(n)){gt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),gt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:e,response:(0,Je.ErrorResponse)(r,(n??pc.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ee.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ie.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ie.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:r,response:(0,Je.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=Oh.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}gt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ee.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ie.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:n,response:(0,Je.SelectProviderResponse)(RA.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:n,response:(0,Je.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Ee.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ie.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const h=new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,R=>{if(c?.(),R.errorMessage)return d(new Error(R.errorMessage));f(R)});const y=R=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:u,response:(0,Je.WatchAssetReponse)(!1)}))},E=()=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:u,response:(0,Je.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:E,onCancel:y,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:h}}addEthereumChain(e,r,n,i,s,o){const a={method:Ee.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,ie.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,R=>{if(c?.(),R.errorMessage)return d(new Error(R.errorMessage));f(R)});const y=R=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:u,response:(0,Je.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},E=R=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:u,response:(0,Je.AddEthereumChainResponse)({isApproved:!0,rpcUrl:R})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:y,onApprove:E,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Ee.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ie.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if(h.errorMessage&&h.errorCode)return c(Oh.ethErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const u=h=>{if(typeof h=="number"){const f=h;this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Je.ErrorResponse)(Ee.Web3Method.switchEthereumChain,pc.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else h instanceof pc.WalletUIError?this.handleErrorResponse(i,Ee.Web3Method.switchEthereumChain,h,h.errorCode):this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Je.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=h=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:i,response:(0,Je.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Gt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,je.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Ee.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ee.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}gt.accountRequestCallbackIds=new Set;W0([U0.default],gt.prototype,"resetAndReload",null);W0([U0.default],gt.prototype,"handleIncomingEvent",null);vo.WalletSDKRelay=gt;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.WalletSDKRelayEventManager=void 0;const AA=O;class MA{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,AA.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Ao.WalletSDKRelayEventManager=MA;const TA="@coinbase/wallet-sdk",OA="3.6.6",kA="Coinbase Wallet JavaScript SDK",NA=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],LA="dist/index.js",PA="dist/index.d.ts",$A="https://github.com/coinbase/coinbase-wallet-sdk.git",jA="Coinbase, Inc.",DA="Apache-2.0",BA={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},FA={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},WA={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},UA={node:">= 10.0.0"};var VA={name:TA,version:OA,description:kA,keywords:NA,main:LA,types:PA,repository:$A,author:jA,license:DA,scripts:BA,dependencies:FA,devDependencies:WA,engines:UA};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.CoinbaseWalletSDK=void 0;const HA=ws,zA=_s,qA=sn,GA=eo,JA=vo,QA=Ao,ZA=O,YA={}.LINK_API_URL||"https://www.walletlink.org",V0={}.SDK_VERSION||VA.version||"unknown";class Mo{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||YA;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new GA.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new zA.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Mo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new QA.WalletSDKRelayEventManager,this._relay=new JA.WalletSDKRelay({linkAPIUrl:s,version:V0,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new qA.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,ZA.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,HA.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Xn.CoinbaseWalletSDK=Mo;Mo.VERSION=V0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Xn,r=sn;var n=Xn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=sn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Fc);var KA=H0(Fc),r8=G0({__proto__:null,default:KA},[Fc]);export{r8 as i};
